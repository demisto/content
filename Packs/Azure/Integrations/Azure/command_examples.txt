!azure-nsg-security-rule-update security_group_name="my-nsg" security_rule_name="allow-https" direction="Inbound" action="Allow" protocol="TCP" source="Internet" destination="1.1" destination_ports="443" priority="100" description="Allow HTTPS traffic"
!azure-storage-account-update account_name="mystorageaccount" sku="Standard_LRS" kind="StorageV2" location="eastus" supports_https_traffic_only="true" network_ruleset_default_action="Deny" allow_blob_public_access="false" minimum_tls_version="TLS1_2"
!azure-storage-blob-service-properties-set account_name="mystorageaccount" delete_rentention_policy_enabled="true" delete_rentention_policy_days="30"
!azure-policy-assignment-create name="require-https-policy" policy_definition_id="12345" display_name="Require HTTPS for storage accounts" description="This policy ensures that storage accounts only accept HTTPS traffic" scope_level="subscription"
!azure-postgres-config-set server_name="my-postgres-server" configuration_name="log_checkpoints" source="user-override" value="on"
!azure-webapp-config-set name="my-webapp" http20_enabled="true" remote_debugging_enabled="false" min_tls_version="1.2"
!azure-webapp-auth-update name="my-webapp" enabled="true"
!azure-mysql-flexible-server-param-set server_name="my-mysql-server" configuration_name="require_secure_transport" source="user-override" value="ON"
!azure-monitor-log-profile-update log_profile_name="default" location="global" retention_policy_enabled="true" retention_policy_days="365"
!azure-disk-update disk_name="my-managed-disk" public_network_access="Disabled" network_access_policy="DenyAll" data_access_auth_mode="AzureActiveDirectory"
!azure-webapp-update name="my-webapp" identity_type="SystemAssigned" https_only="true" client_cert_enabled="true"
!azure-acr-update registry_name="mycontainerregistry" allow_exports="disabled" public_network_access="Disabled" anonymous_pull_enabled="false" authentication_as_arm_policy="enabled"
!azure-postgres-server-update server_name="my-postgres-server" ssl_enforcement="Enabled"
!azure-key-vault-update vault_name="my-keyvault" enable_soft_delete="true" enable_purge_protection="true"
!azure-sql-db-threat-policy-update server_name="my-sql-server" db_name="my-database" email_account_admins_enabled="true"
!azure-sql-db-transparent-data-encryption-set server_name="my-sql-server" db_name="my-database" state="Enabled"
!azure-cosmos-db-update account_name="my-cosmosdb-account" disable_key_based_metadata_write_access="true"
