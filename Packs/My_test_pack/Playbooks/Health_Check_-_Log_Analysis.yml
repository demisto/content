description: Collect Logs and parse data
id: 'Health Check - Log Analysis '
inputs: []
name: 'Health Check - Log Analysis '
outputs: []
starttaskid: "0"
tasks:
  "0":
    id: "0"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "72"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 51dec18d-eb2f-4f53-8328-bc5cdbdc527b
      iscommand: false
      name: ""
      version: -1
      description: ''
    taskid: 51dec18d-eb2f-4f53-8328-bc5cdbdc527b
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 480,
          "y": 50
        }
      }
  "3":
    id: "3"
    ignoreworker: false
    nexttasks:
      '#default#':
      - "57"
      "no":
      - "56"
      "yes":
      - "70"
    note: false
    quietmode: 0
    scriptarguments:
      entryID:
        complex:
          accessor: EntryID
          filters:
          - - left:
                iscontext: true
                value:
                  simple: File.Name
              operator: containsString
              right:
                value:
                  simple: logs-bundle
            - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: tar
            - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: gz
          root: File
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: "Extract files from log bundle - supports tar.gz & tar \n\nhandle\
        \ unsupported use cases and unextracted files. "
      id: 41dc87a4-c865-475c-84f6-268341bba88a
      iscommand: false
      name: UnPack the zipped log file
      script: e8db2b76-bb7b-44db-8f20-58071ce01446
      type: condition
      version: -1
    taskid: 41dc87a4-c865-475c-84f6-268341bba88a
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
  "56":
    id: "56"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "58"
    note: false
    quietmode: 0
    scriptarguments:
      value:
        simple: file type is not supported
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints text to war room (Markdown supported)
      id: a4fd7650-6537-42e0-8ba5-a3e9d27d3f99
      iscommand: false
      name: File Type is not supported
      script: Print
      type: regular
      version: -1
    taskid: a4fd7650-6537-42e0-8ba5-a3e9d27d3f99
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 690
        }
      }
  "57":
    id: "57"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "58"
    note: false
    quietmode: 0
    scriptarguments:
      message:
        simple: File can't be extracted
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: 2ccc181f-077c-4cfa-809b-5bf24c5f8e3b
      iscommand: false
      name: File can't be extracted
      script: PrintErrorEntry
      type: regular
      version: -1
    taskid: 2ccc181f-077c-4cfa-809b-5bf24c5f8e3b
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 480,
          "y": 690
        }
      }
  "58":
    id: "58"
    ignoreworker: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 6a937096-1ce6-4996-817f-efd7b679c360
      iscommand: false
      name: continue
      type: title
      version: -1
      description: ''
    taskid: 6a937096-1ce6-4996-817f-efd7b679c360
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 480,
          "y": 865
        }
      }
  "70":
    id: "70"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "71"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: be93c60e-0363-4c85-8419-fbbf4b8a5fcb
      iscommand: false
      name: Read All Files
      type: title
      version: -1
      description: ''
    taskid: be93c60e-0363-4c85-8419-fbbf4b8a5fcb
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 910,
          "y": 545
        }
      }
  "71":
    id: "71"
    ignoreworker: false
    loop:
      exitCondition: ""
      iscommand: false
      max: 0
      wait: 1
    nexttasks:
      '#none#':
      - "58"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 494c14c0-026c-4dac-8985-06851b790659
      iscommand: false
      name: 3150d845-2ee8-4036-8051-7615dce87b40
      playbookId: 3150d845-2ee8-4036-8051-7615dce87b40
      type: playbook
      version: -1
      description: ''
    taskid: 494c14c0-026c-4dac-8985-06851b790659
    timertriggers: []
    type: playbook
    view: |-
      {
        "position": {
          "x": 910,
          "y": 690
        }
      }
  "72":
    id: "72"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "3"
    note: false
    quietmode: 0
    scriptarguments:
      description: {}
      filename: {}
      uri:
        simple: /log/bundle
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Download files from Demisto server
      id: 6b61bbab-131d-4f41-88c2-bd02ce73dfa1
      iscommand: true
      name: Download log bundle
      script: '|||demisto-api-download'
      type: regular
      version: -1
    taskid: 6b61bbab-131d-4f41-88c2-bd02ce73dfa1
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 480,
          "y": 195
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 880,
        "width": 1240,
        "x": 50,
        "y": 50
      }
    }
  }
tests:
- No tests (auto formatted)
fromversion: 5.5.0
