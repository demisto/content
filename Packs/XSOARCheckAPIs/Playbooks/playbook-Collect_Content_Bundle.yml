contentitemexportablefields:
  contentitemfields:
    propagationLabels:
    - all
description: Collect content bundle and parse data.
id: Collect Content Bundle
inputs: []
name: Collect Content Bundle
outputs: []
starttaskid: "0"
tasks:
  "0":
    continueonerrortype: ""
    id: "0"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "74"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 572da7c3-ada3-4c79-812a-378de0d36498
      iscommand: false
      name: ""
      version: -1
      description: ''
    taskid: 572da7c3-ada3-4c79-812a-378de0d36498
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 50
        }
      }
  "3":
    continueonerrortype: ""
    id: "3"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "57"
      "no":
      - "56"
      "yes":
      - "58"
    note: false
    quietmode: 0
    scriptarguments:
      entryID:
        complex:
          accessor: EntryID
          filters:
          - - left:
                iscontext: true
                value:
                  simple: File.Name
              operator: containsString
              right:
                value:
                  simple: logs-bundle
            - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: tar
            - left:
                iscontext: true
                value:
                  simple: File.Extension
              operator: isEqualString
              right:
                value:
                  simple: gz
          root: File
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: "Extract files from log bundle - supports tar.gz & tar \n\nhandle unsupported use cases and unextracted files. "
      id: 2797533b-56c2-4438-8881-2dfeb39378f3
      iscommand: false
      name: UnPack the zipped log file
      scriptName: Unpack
      type: condition
      version: -1
    taskid: 2797533b-56c2-4438-8881-2dfeb39378f3
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 545
        }
      }
  "56":
    continueonerrortype: ""
    id: "56"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "58"
    note: false
    quietmode: 0
    scriptarguments:
      message:
        simple: File type is not supported
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: 690e816a-d1dd-4a14-8ea7-6e8742dd20c6
      iscommand: false
      name: File Type is not supported
      scriptName: PrintErrorEntry
      type: regular
      version: -1
    taskid: 690e816a-d1dd-4a14-8ea7-6e8742dd20c6
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 720
        }
      }
  "57":
    continueonerrortype: ""
    id: "57"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "58"
    note: false
    quietmode: 0
    scriptarguments:
      message:
        simple: File can't be extracted
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: ffa08f94-fbee-4057-8d77-5fbbf1da15dc
      iscommand: false
      name: File can't be extracted
      scriptName: PrintErrorEntry
      type: regular
      version: -1
    taskid: ffa08f94-fbee-4057-8d77-5fbbf1da15dc
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 592.5,
          "y": 720
        }
      }
  "58":
    continueonerrortype: ""
    id: "58"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 817637d5-9820-47a9-8d4b-8f72edefde5c
      iscommand: false
      name: continue
      type: title
      version: -1
      description: ''
    taskid: 817637d5-9820-47a9-8d4b-8f72edefde5c
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 895
        }
      }
  "72":
    continueonerrortype: ""
    id: "72"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "3"
    note: false
    quietmode: 0
    scriptarguments:
      uri:
        simple: /content/bundle
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: Download files from Core server.
      id: c0e68ce0-7783-43b1-83be-66681610c7ff
      iscommand: true
      name: Download content bundle
      script: Core REST API|||core-api-download
      type: regular
      version: -1
    taskid: c0e68ce0-7783-43b1-83be-66681610c7ff
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
  "73":
    continueonerrortype: ""
    id: "73"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "3"
    note: false
    quietmode: 0
    scriptarguments:
      uri:
        simple: /acc_${incident.account}/content/bundle
    separatecontext: false
    skipunavailable: false
    task:
      brand: Core REST API
      description: Download files from Core server.
      id: b1ca8195-fc71-400e-8b1f-4dfa14671699
      iscommand: true
      name: Download account content bundle
      script: Core REST API|||core-api-download
      type: regular
      version: -1
    taskid: b1ca8195-fc71-400e-8b1f-4dfa14671699
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
  "74":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: incident.account
          operator: isEmpty
      label: "yes"
    continueonerrortype: ""
    id: "74"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "73"
      "yes":
      - "72"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Checking if the current deployment is Multy-tenant or Standalone
      id: f86e77af-eac1-4941-839c-f081dade955b
      iscommand: false
      name: Is standalone deployment
      type: condition
      version: -1
    taskid: f86e77af-eac1-4941-839c-f081dade955b
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 162.5,
          "y": 195
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 910,
        "width": 922.5,
        "x": 50,
        "y": 50
      }
    }
  }
tests:
- No tests (auto formatted)
fromversion: 6.0.0
