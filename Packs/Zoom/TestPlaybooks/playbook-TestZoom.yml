id: Zoom_Test
version: 29
vcShouldKeepItemLegacyProdMachine: false
name: Zoom_Test_my_version
description: |-
  Important!
  Because  API  token limit, if you run this playbook again, it will crash. So wait a few minutes between each time.
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 548f58d6-ed58-4f6a-8ce0-1e08b5a1d90f
    type: start
    task:
      id: 548f58d6-ed58-4f6a-8ce0-1e08b5a1d90f
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 99f926c6-71c7-4b03-8078-df36dcf89484
    type: regular
    task:
      id: 99f926c6-71c7-4b03-8078-df36dcf89484
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "2"
        - "21"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: 30c374dd-3584-4f19-824e-c5e844105dba
    type: regular
    task:
      id: 30c374dd-3584-4f19-824e-c5e844105dba
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "3"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: 7a55edfa-40d2-4cd1-8253-f4061f613744
    type: regular
    task:
      id: 7a55edfa-40d2-4cd1-8253-f4061f613744
      version: -1
      name: zoom-create-user (default=Basic)
      description: Create a new user in zoom account
      script: "|||zoom-create-user"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "4"
    scriptarguments:
      email:
        simple: ${GeneratedEmail}
      first_name:
        simple: Testy
      last_name:
        simple: McTesty
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: f33cb5a5-df05-4dfe-816e-44e242ca5a1b
    type: regular
    task:
      id: f33cb5a5-df05-4dfe-816e-44e242ca5a1b
      version: -1
      name: zoom-delete-user
      description: Delete a user from Zoom
      script: "|||zoom-delete-user"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "5"
    scriptarguments:
      user_id:
        simple: ${Zoom.User.email}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 40,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: a9f6fe1f-3232-412b-8d21-2a52c9714ea2
    type: condition
    task:
      id: a9f6fe1f-3232-412b-8d21-2a52c9714ea2
      version: -1
      name: Verify created user
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "6"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.first_name
                iscontext: true
              right:
                value:
                  simple: Testy
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.last_name
                iscontext: true
              right:
                value:
                  simple: McTesty
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.email
                iscontext: true
              right:
                value:
                  simple: GeneratedEmail
                iscontext: true
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.type
                iscontext: true
              right:
                value:
                  simple: "1"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: b47878cb-117a-4072-841b-eac8f8b911af
    type: regular
    task:
      id: b47878cb-117a-4072-841b-eac8f8b911af
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "7"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: 71b0dba9-bba2-4860-862e-06c732539739
    type: regular
    task:
      id: 71b0dba9-bba2-4860-862e-06c732539739
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "11"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: c85e67d9-7474-4606-8d2d-4306e5ddbd8c
    type: regular
    task:
      id: c85e67d9-7474-4606-8d2d-4306e5ddbd8c
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "16"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: 3f03ebeb-5e1c-421d-8c01-54ee58caa3fc
    type: regular
    task:
      id: 3f03ebeb-5e1c-421d-8c01-54ee58caa3fc
      version: -1
      name: zoom-list-users
      description: List the existing users
      script: "|||zoom-list-users"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "17"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 02f6459b-f350-40b2-8271-397046493f56
    type: condition
    task:
      id: 02f6459b-f350-40b2-8271-397046493f56
      version: -1
      name: Verify admin is in user list
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "18"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.email
                iscontext: true
              right:
                value:
                  simple: admin@demistodev.com
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: a471785f-8c8a-45fc-8b8e-0445b15e6838
    type: regular
    task:
      id: a471785f-8c8a-45fc-8b8e-0445b15e6838
      version: -1
      name: zoom-create-meeting
      description: Create a new zoom meeting (scheduled or instant)
      script: "|||zoom-create-meeting"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "19"
    scriptarguments:
      topic:
        simple: Testing
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: ae1e769a-98cd-41fe-8465-3695e22bdf6d
    type: regular
    task:
      id: ae1e769a-98cd-41fe-8465-3695e22bdf6d
      version: -1
      name: Verify meeting was created
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "22"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meeting
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: c17e3c01-10fe-4d6d-8783-0cd0860495e5
    type: regular
    task:
      id: c17e3c01-10fe-4d6d-8783-0cd0860495e5
      version: -1
      name: Print test result
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      value:
        simple: Zoom test completed successfuly
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: b930bad1-404c-464d-89ca-94d0c7418a3b
    type: regular
    task:
      id: b930bad1-404c-464d-89ca-94d0c7418a3b
      version: -1
      name: zoom-fetch-recording
      description: Get meeting record and save as file in the warroom
      script: "|||zoom-fetch-recording"
      type: regular
      iscommand: true
      brand: ""
    scriptarguments:
      meeting_id:
        simple: "120332943"
    separatecontext: false
    continueonerror: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 5a61e1db-c9ed-42fb-8ec2-8768f0d06ff9
    type: regular
    task:
      id: 5a61e1db-c9ed-42fb-8ec2-8768f0d06ff9
      version: -1
      name: zoom-create-meeting#2
      description: Create a new zoom meeting (scheduled or instant)
      script: "|||zoom-create-meeting"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "27"
    scriptarguments:
      topic:
        simple: Testing#2
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: 8dfcb746-81b6-451f-8ec6-5b53ef2713d8
    type: regular
    task:
      id: 8dfcb746-81b6-451f-8ec6-5b53ef2713d8
      version: -1
      name: zoom-meeting-get
      description: Get the information of an existing zoom meeting
      script: "|||zoom-meeting-get"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "24"
    scriptarguments:
      meeting_id:
        simple: ${Zoom.Meeting.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: c4390472-5ca8-4068-80c7-7dbeacc693cf
    type: regular
    task:
      id: c4390472-5ca8-4068-80c7-7dbeacc693cf
      version: -1
      name: Verify meeting was reached
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "25"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meeting
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2645
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: ee6dc2ac-ec7f-42ec-8442-5415357b9923
    type: regular
    task:
      id: ee6dc2ac-ec7f-42ec-8442-5415357b9923
      version: -1
      name: zoom-meeting-list
      description: |
        Show all the meetings of a given user. Note: only scheduled and unexpired meetings will appear.
      script: "|||zoom-meeting-list"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "26"
    scriptarguments:
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: 2ac9cad4-c803-4cd4-8e09-8988265108aa
    type: condition
    task:
      id: 2ac9cad4-c803-4cd4-8e09-8988265108aa
      version: -1
      name: validate that the list contains at least 2 meetings
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "20"
        - "20"
        - "20"
        - "20"
        - "20"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: greaterThanOrEqual
              left:
                value:
                  simple: Zoom.Meeting.total_records
                iscontext: true
              right:
                value:
                  simple: "2"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: 0ba833d7-8a63-49f1-87b6-fc979e994ee8
    type: regular
    task:
      id: 0ba833d7-8a63-49f1-87b6-fc979e994ee8
      version: -1
      name: Sleep(2sec)
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "23"
    scriptarguments:
      seconds:
        simple: "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 690,
          "y": 2360
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 3215,
        "width": 1030,
        "x": 40,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
