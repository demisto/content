id: Zoom_Test
version: 38
vcShouldKeepItemLegacyProdMachine: false
name: Zoom_Test
description: |-
  Important!
  Because  API  token limit, if you run this playbook again, it will crash. So wait a few minutes between each time.
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 42971dfb-2e59-4908-80d6-b40b9de236f7
    type: start
    task:
      id: 42971dfb-2e59-4908-80d6-b40b9de236f7
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 5c699f8f-13bb-49af-853d-ff673b52cf93
    type: regular
    task:
      id: 5c699f8f-13bb-49af-853d-ff673b52cf93
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "2"
      - "21"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: 28148171-dbb8-4480-83dd-3adb0f1ca9de
    type: regular
    task:
      id: 28148171-dbb8-4480-83dd-3adb0f1ca9de
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "3"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: c24b04ca-0563-4f4f-81e6-368f55017e46
    type: regular
    task:
      id: c24b04ca-0563-4f4f-81e6-368f55017e46
      version: -1
      name: zoom-create-user (default=Basic)
      description: Create a new user in zoom account
      script: '|||zoom-create-user'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "4"
    scriptarguments:
      email:
        simple: ${GeneratedEmail}
      first_name:
        simple: Testy
      last_name:
        simple: McTesty
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: cf2e87ad-1111-4625-8648-9315c71746e3
    type: regular
    task:
      id: cf2e87ad-1111-4625-8648-9315c71746e3
      version: -1
      name: zoom-delete-user
      description: Delete a user from Zoom
      script: '|||zoom-delete-user'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "5"
    scriptarguments:
      user_id:
        simple: ${Zoom.User.email}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 40,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: dee4f962-0689-4915-87f7-cafb0d950c40
    type: condition
    task:
      id: dee4f962-0689-4915-87f7-cafb0d950c40
      version: -1
      name: Verify created user
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Zoom.User.first_name
            iscontext: true
          right:
            value:
              simple: Testy
      - - operator: isEqualString
          left:
            value:
              simple: Zoom.User.last_name
            iscontext: true
          right:
            value:
              simple: McTesty
      - - operator: isEqualString
          left:
            value:
              simple: Zoom.User.email
            iscontext: true
          right:
            value:
              simple: GeneratedEmail
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Zoom.User.type
            iscontext: true
          right:
            value:
              simple: "1"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: 1915afaa-b342-485c-8afd-d73dfd1cf6d9
    type: regular
    task:
      id: 1915afaa-b342-485c-8afd-d73dfd1cf6d9
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "7"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: 6aca67b4-1e4c-457e-8248-83dc7b49287b
    type: regular
    task:
      id: 6aca67b4-1e4c-457e-8248-83dc7b49287b
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "11"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: 295a7aec-81f2-4dae-85e4-e6b3b314e852
    type: regular
    task:
      id: 295a7aec-81f2-4dae-85e4-e6b3b314e852
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "16"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: 0fe75f05-ad92-4f88-8607-3eb8025d00b2
    type: regular
    task:
      id: 0fe75f05-ad92-4f88-8607-3eb8025d00b2
      version: -1
      name: zoom-list-users
      description: List the existing users
      script: '|||zoom-list-users'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "17"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 0b136e16-1573-45e4-887f-203ee85515e5
    type: condition
    task:
      id: 0b136e16-1573-45e4-887f-203ee85515e5
      version: -1
      name: Verify admin is in user list
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "18"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Zoom.User.email
            iscontext: true
          right:
            value:
              simple: admin@demistodev.com
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: 8735cee4-9e28-4736-8281-786d817a32d8
    type: regular
    task:
      id: 8735cee4-9e28-4736-8281-786d817a32d8
      version: -1
      name: zoom-create-meeting
      description: Create a new zoom meeting (scheduled or instant)
      script: '|||zoom-create-meeting'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      topic:
        simple: Testing
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: 25bc69e8-f5fb-4a42-8b2c-d959380284c8
    type: regular
    task:
      id: 25bc69e8-f5fb-4a42-8b2c-d959380284c8
      version: -1
      name: Verify meeting was created
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "22"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meeting
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: f35c7500-cc76-4bfe-8087-214b6ecbd4bb
    type: regular
    task:
      id: f35c7500-cc76-4bfe-8087-214b6ecbd4bb
      version: -1
      name: Print test result
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      value:
        simple: Zoom test completed successfuly
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: a7e6f786-812a-4878-8ff8-1532e9bf3e2f
    type: regular
    task:
      id: a7e6f786-812a-4878-8ff8-1532e9bf3e2f
      version: -1
      name: zoom-fetch-recording
      description: Get meeting record and save as file in the warroom
      script: '|||zoom-fetch-recording'
      type: regular
      iscommand: true
      brand: ""
    scriptarguments:
      meeting_id:
        simple: "120332943"
    separatecontext: false
    continueonerror: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 036976c6-b1b0-4570-8eb9-8d725efb8cf4
    type: regular
    task:
      id: 036976c6-b1b0-4570-8eb9-8d725efb8cf4
      version: -1
      name: zoom-create-meeting#2
      description: Create a new zoom meeting (scheduled or instant)
      script: '|||zoom-create-meeting'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      topic:
        simple: Testing#2
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: 6bf4c4ad-4e63-4a4a-8e03-552d5a7ffe96
    type: regular
    task:
      id: 6bf4c4ad-4e63-4a4a-8e03-552d5a7ffe96
      version: -1
      name: zoom-meeting-get
      description: Get the information of an existing zoom meeting
      script: '|||zoom-meeting-get'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "24"
    scriptarguments:
      meeting_id:
        simple: ${Zoom.Meeting.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 38fdfa77-b8bc-43c6-8623-3c85e0548577
    type: regular
    task:
      id: 38fdfa77-b8bc-43c6-8623-3c85e0548577
      version: -1
      name: Verify meeting was reached
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meeting
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2645
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: c3233a02-70ae-47b6-82cc-57dd5085aaff
    type: regular
    task:
      id: c3233a02-70ae-47b6-82cc-57dd5085aaff
      version: -1
      name: zoom-meeting-list
      description: |
        Show all the meetings of a given user. Note: only scheduled and unexpired meetings will appear.
      script: '|||zoom-meeting-list'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: abdf4be2-dd21-4d49-8175-9fe16f3d0d14
    type: condition
    task:
      id: abdf4be2-dd21-4d49-8175-9fe16f3d0d14
      version: -1
      name: validate that the list contains at least 2 meetings
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "20"
      - "20"
      - "20"
      - "20"
      - "20"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: greaterThanOrEqual
          left:
            value:
              simple: Zoom.Meeting.total_records
            iscontext: true
          right:
            value:
              simple: "2"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: a087d8ca-ed3e-4920-8ae0-770899b8c27b
    type: regular
    task:
      id: a087d8ca-ed3e-4920-8ae0-770899b8c27b
      version: -1
      name: Sleep(2sec)
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      seconds:
        simple: "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 690,
          "y": 2360
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 3215,
        "width": 1030,
        "x": 40,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
