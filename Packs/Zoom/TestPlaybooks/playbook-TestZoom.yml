id: Zoom_Test
version: 23
vcShouldKeepItemLegacyProdMachine: false
name: Zoom_Test_my_version
description: |-
  Important!
  Because  API  token limit, if you run this playbook again, it will crash. So wait a few minutes between each time.
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 2ee2c17d-cff2-4a5c-8595-4e8469e2169d
    type: start
    task:
      id: 2ee2c17d-cff2-4a5c-8595-4e8469e2169d
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 5554c467-322f-4e41-85b7-9008adf72031
    type: regular
    task:
      id: 5554c467-322f-4e41-85b7-9008adf72031
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "2"
        - "21"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 265,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: 454c7917-9d6b-4fab-8cf7-6c33768ce234
    type: regular
    task:
      id: 454c7917-9d6b-4fab-8cf7-6c33768ce234
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "3"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: e9806fba-50ec-434c-83a5-69221b61024f
    type: regular
    task:
      id: e9806fba-50ec-434c-83a5-69221b61024f
      version: -1
      name: zoom-create-user (default=Basic)
      description: Create a new user in zoom account
      script: Zoom|||zoom-create-user
      type: regular
      iscommand: true
      brand: Zoom
    nexttasks:
      "#none#":
        - "4"
    scriptarguments:
      email:
        simple: ${GeneratedEmail}
      first_name:
        simple: Testy
      last_name:
        simple: McTesty
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: 95c82fc8-746f-449f-8c6f-fd0bef07b013
    type: regular
    task:
      id: 95c82fc8-746f-449f-8c6f-fd0bef07b013
      version: -1
      name: zoom-delete-user
      description: Delete a user from Zoom
      script: "|||zoom-delete-user"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "5"
    scriptarguments:
      user_id:
        simple: ${Zoom.User.email}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: 98661220-51f7-43d0-8310-85b58c274933
    type: condition
    task:
      id: 98661220-51f7-43d0-8310-85b58c274933
      version: -1
      name: Verify created user
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "6"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.first_name
                iscontext: true
              right:
                value:
                  simple: Testy
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.last_name
                iscontext: true
              right:
                value:
                  simple: McTesty
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.email
                iscontext: true
              right:
                value:
                  simple: GeneratedEmail
                iscontext: true
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.type
                iscontext: true
              right:
                value:
                  simple: "1"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: a499c919-edca-4d5b-8663-f46a030e7a32
    type: regular
    task:
      id: a499c919-edca-4d5b-8663-f46a030e7a32
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "7"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: 8471afaf-d488-4cd7-87e5-afaf2151927f
    type: regular
    task:
      id: 8471afaf-d488-4cd7-87e5-afaf2151927f
      version: -1
      name: Generate Email
      scriptName: GenerateEmail
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "11"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: ce3bb481-54b5-408f-816b-02e89e734a0e
    type: regular
    task:
      id: ce3bb481-54b5-408f-816b-02e89e734a0e
      version: -1
      name: Delete All Context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "16"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: ddf315ef-77ad-45b3-8d40-94e45116f836
    type: regular
    task:
      id: ddf315ef-77ad-45b3-8d40-94e45116f836
      version: -1
      name: zoom-list-users
      description: List the existing users
      script: Zoom|||zoom-list-users
      type: regular
      iscommand: true
      brand: Zoom
    nexttasks:
      "#none#":
        - "17"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 4df9c7e8-9b45-4043-8647-031e9cdae3bb
    type: condition
    task:
      id: 4df9c7e8-9b45-4043-8647-031e9cdae3bb
      version: -1
      name: Verify admin is in user list
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "18"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: isEqualString
              left:
                value:
                  simple: Zoom.User.email
                iscontext: true
              right:
                value:
                  simple: admin@demistodev.com
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: a937809f-e7d8-4585-8b70-ac8daa04ab95
    type: regular
    task:
      id: a937809f-e7d8-4585-8b70-ac8daa04ab95
      version: -1
      name: zoom-create-meeting
      description: Create a new zoom meeting (scheduled or instant)
      script: Zoom|||zoom-create-meeting
      type: regular
      iscommand: true
      brand: Zoom
    nexttasks:
      "#none#":
        - "19"
    scriptarguments:
      topic:
        simple: Testing
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: d18c5afb-9b97-425e-8594-ec44e62f8702
    type: regular
    task:
      id: d18c5afb-9b97-425e-8594-ec44e62f8702
      version: -1
      name: Verify meeting was created
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "22"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meeting
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: 759a57ac-3a64-415c-8d3f-64a9278f5f50
    type: regular
    task:
      id: 759a57ac-3a64-415c-8d3f-64a9278f5f50
      version: -1
      name: Print test result
      scriptName: Print
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      value:
        simple: Zoom test completed successfuly
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: 884a4db0-6557-408f-8e93-3d1e8ecff166
    type: regular
    task:
      id: 884a4db0-6557-408f-8e93-3d1e8ecff166
      version: -1
      name: zoom-fetch-recording
      description: Get meeting record and save as file in the warroom
      script: Zoom|||zoom-fetch-recording
      type: regular
      iscommand: true
      brand: Zoom
    scriptarguments:
      meeting_id:
        simple: "120332943"
    separatecontext: false
    continueonerror: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 7e7befa5-99d7-4233-8729-c715ed529038
    type: regular
    task:
      id: 7e7befa5-99d7-4233-8729-c715ed529038
      version: -1
      name: zoom-create-meeting#2
      description: Create a new zoom meeting (scheduled or instant)
      script: Zoom|||zoom-create-meeting
      type: regular
      iscommand: true
      brand: Zoom
    nexttasks:
      "#none#":
        - "27"
    scriptarguments:
      topic:
        simple: Testing#2
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: be51930e-c636-4a64-8c2e-ca04fdfbecfe
    type: regular
    task:
      id: be51930e-c636-4a64-8c2e-ca04fdfbecfe
      version: -1
      name: zoom-meeting-get
      description: Get the information of an existing zoom meeting
      script: "|||zoom-meeting-get"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "24"
    scriptarguments:
      meeting_id:
        simple: ${Zoom.Meeting.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 981ea1e8-4049-4811-8180-a45c1ba56909
    type: regular
    task:
      id: 981ea1e8-4049-4811-8180-a45c1ba56909
      version: -1
      name: Verify meeting was reached
      scriptName: VerifyContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "25"
    scriptarguments:
      fields:
        simple: id
      path:
        simple: Zoom.Meetings
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2645
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: c019cf67-4224-4eaf-801f-cf33394c7bfb
    type: regular
    task:
      id: c019cf67-4224-4eaf-801f-cf33394c7bfb
      version: -1
      name: zoom-meeting-list
      description:
        "This command will show all the user meetings. Note: only scheduled
        and unexpired meetings will appear."
      script: "|||zoom-meeting-list"
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      "#none#":
        - "26"
    scriptarguments:
      user_id:
        simple: admin@demistodev.com
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: d9dd6d15-b423-4801-898c-dc2454959e47
    type: condition
    task:
      id: d9dd6d15-b423-4801-898c-dc2454959e47
      version: -1
      name: validate that the list contains at least 2 meetings
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
        - "20"
        - "20"
        - "20"
    separatecontext: false
    conditions:
      - label: "yes"
        condition:
          - - operator: greaterThanOrEqual
              left:
                value:
                  simple: Zoom.Meetings.total_records
                iscontext: true
              right:
                value:
                  simple: "2"
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: c74d4c21-e605-4711-8007-850c127adfb5
    type: regular
    task:
      id: c74d4c21-e605-4711-8007-850c127adfb5
      version: -1
      name: Sleep(2sec)
      description: Sleep for X seconds
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      "#none#":
        - "23"
    scriptarguments:
      seconds:
        simple: "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 690,
          "y": 2360
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 3215,
        "width": 1020,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
