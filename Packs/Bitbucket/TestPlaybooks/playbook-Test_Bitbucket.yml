id: Test_Bitbucket
version: -1
vcShouldKeepItemLegacyProdMachine: false
name: Test_Bitbucket
description: A playbook for Bitbucket integration
fromversion: 6.5.0
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 8fd9966e-686a-49d1-8cce-c973ec1dfe2e
    type: start
    task:
      id: 8fd9966e-686a-49d1-8cce-c973ec1dfe2e
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 40
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 4ae282e4-55bf-4621-810f-f50ed0ffec1a
    type: regular
    task:
      id: 4ae282e4-55bf-4621-810f-f50ed0ffec1a
      version: -1
      name: Projects List
      script: Bitbucket|||bitbucket-project-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: b3881aef-eccf-483a-83ee-ba1dafc720e6
    type: condition
    task:
      id: b3881aef-eccf-483a-83ee-ba1dafc720e6
      version: -1
      name: Verify List Projects output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "4"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.key
            iscontext: true
          right:
            value: {}
          ignorecase: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.owner.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 380
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: 30e3306b-5dad-4eb2-8812-d639179c0bf3
    type: title
    task:
      id: 30e3306b-5dad-4eb2-8812-d639179c0bf3
      version: -1
      name: Finish
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7620
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: 57e91c03-51a2-4ae3-8c9d-a0f7e25f9908
    type: regular
    task:
      id: 57e91c03-51a2-4ae3-8c9d-a0f7e25f9908
      version: -1
      name: Open Branch List
      script: Bitbucket|||bitbucket-open-branch-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "5"
      - "55"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 555
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: 71af6dd3-f40e-4940-8b02-f5975112325b
    type: condition
    task:
      id: 71af6dd3-f40e-4940-8b02-f5975112325b
      version: -1
      name: Verify Open Branch List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "8"
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: demisto
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: d3990533-9a59-49cc-8d95-d2c2f6d7edd1
    type: regular
    task:
      id: d3990533-9a59-49cc-8d95-d2c2f6d7edd1
      version: -1
      name: Branch Get
      script: Bitbucket|||bitbucket-branch-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "50"
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "8":
    id: "8"
    taskid: d65e3300-47aa-46fb-8646-96d5055d3700
    type: regular
    task:
      id: d65e3300-47aa-46fb-8646-96d5055d3700
      version: -1
      name: Branch Create
      script: Bitbucket|||bitbucket-branch-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "9"
    scriptarguments:
      name:
        simple: demisto
      target_branch:
        simple: master
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 900,
          "y": 880
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "9":
    id: "9"
    taskid: 1beebd87-0668-4bec-8798-682aa48beab2
    type: condition
    task:
      id: 1beebd87-0668-4bec-8798-682aa48beab2
      version: -1
      name: Verify Branch Create outputs
      description: Check whether the values provided in arguments are equal. If either
        of the arguments are missing, no is returned.
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.account_id
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: demisto
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 900,
          "y": 1040
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "10":
    id: "10"
    taskid: 3fc6c54e-34a3-46f8-85ab-1a90d1708307
    type: regular
    task:
      id: 3fc6c54e-34a3-46f8-85ab-1a90d1708307
      version: -1
      name: Branch Delete
      script: Bitbucket|||bitbucket-branch-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 1180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: 97455a4a-ef10-42c5-859c-83fdcb7d45c6
    type: regular
    task:
      id: 97455a4a-ef10-42c5-859c-83fdcb7d45c6
      version: -1
      name: Commit Create
      script: Bitbucket|||bitbucket-commit-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "12"
    scriptarguments:
      branch:
        simple: demisto
      file_content:
        simple: hello file1
      file_name:
        simple: file1
      message:
        simple: message
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1525
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "12":
    id: "12"
    taskid: 75b7dced-72a4-4034-8bbb-af689c2818d6
    type: regular
    task:
      id: 75b7dced-72a4-4034-8bbb-af689c2818d6
      version: -1
      name: Commit List
      script: Bitbucket|||bitbucket-commit-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "13"
    scriptarguments:
      included_branches:
        simple: demisto
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1685
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "13":
    id: "13"
    taskid: 55cf97f0-a3c2-4f91-8cb3-ac4a5425b8fd
    type: condition
    task:
      id: 55cf97f0-a3c2-4f91-8cb3-ac4a5425b8fd
      version: -1
      name: Verify Commit List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.hash
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.message
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "14":
    id: "14"
    taskid: c1f22489-0006-4db0-8992-9cc895d1b6a5
    type: regular
    task:
      id: c1f22489-0006-4db0-8992-9cc895d1b6a5
      version: -1
      name: File Delete command
      script: Bitbucket|||bitbucket-file-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "17"
    scriptarguments:
      branch:
        simple: demisto
      file_name:
        simple: file1
      message:
        simple: delete message file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "15":
    id: "15"
    taskid: 584101b8-db8f-45a3-811f-a98f342b3ff5
    type: regular
    task:
      id: 584101b8-db8f-45a3-811f-a98f342b3ff5
      version: -1
      name: Raw File Get
      script: Bitbucket|||bitbucket-raw-file-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "16"
    scriptarguments:
      branch:
        simple: demisto
      file_path:
        simple: file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2015
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: cab950e9-284f-422c-8c52-88e934e1cca4
    type: condition
    task:
      id: cab950e9-284f-422c-8c52-88e934e1cca4
      version: -1
      name: Verify Raw File Get output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "14"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_path
            iscontext: true
          right:
            value:
              simple: file1
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_content
            iscontext: true
          right:
            value:
              simple: hello file1
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 8895b9df-054a-4cd6-8d65-be78e92f0425
    type: regular
    task:
      id: 8895b9df-054a-4cd6-8d65-be78e92f0425
      version: -1
      name: Issue Create
      description: Creates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: '|||bitbucket-issue-create'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "54"
    scriptarguments:
      content:
        simple: enhancement for an integration
      priority:
        simple: minor
      state:
        simple: open
      title:
        simple: test_issue
      type:
        simple: enhancement
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2500
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: 42ee9c89-9070-4d4b-8009-d288d4c96727
    type: regular
    task:
      id: 42ee9c89-9070-4d4b-8009-d288d4c96727
      version: -1
      name: Issue List
      script: Bitbucket|||bitbucket-issue-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4640
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: a50d6df3-a1e5-4e83-836f-0e27d4f7767f
    type: condition
    task:
      id: a50d6df3-a1e5-4e83-836f-0e27d4f7767f
      version: -1
      name: Verify Issue List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "22"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.title
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4800
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: c25dceed-3e06-4719-885d-98f4ffa456c7
    type: regular
    task:
      id: c25dceed-3e06-4719-885d-98f4ffa456c7
      version: -1
      name: Pull Request Create
      script: Bitbucket|||bitbucket-pull-request-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      destination_branch:
        simple: master
      source_branch:
        simple: demisto
      title:
        simple: new pr
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4975
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: ac2860c6-34b2-453c-86aa-f4caabba83d1
    type: condition
    task:
      id: ac2860c6-34b2-453c-86aa-f4caabba83d1
      version: -1
      name: Verify Pull Request Create outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "24"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.title
            iscontext: true
          right:
            value:
              simple: new pr
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5140
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 36462532-5b01-4056-89bd-fa8fa85a1597
    type: regular
    task:
      id: 36462532-5b01-4056-89bd-fa8fa85a1597
      version: -1
      name: Pull Request Update
      script: Bitbucket|||bitbucket-pull-request-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      description:
        simple: updates description
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5305
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: 21a12577-a3be-49f4-83d9-f94cbd5dfb80
    type: condition
    task:
      id: 21a12577-a3be-49f4-83d9-f94cbd5dfb80
      version: -1
      name: Verify Pull Request Update
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "39"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
          right:
            value: {}
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.description
            iscontext: true
          right:
            value:
              simple: updates description
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: 06dff108-30a8-4ad1-8c20-bcb3895739ef
    type: regular
    task:
      id: 06dff108-30a8-4ad1-8c20-bcb3895739ef
      version: -1
      name: Pull Request List
      description: Returns a list of the pull requests. If a state is provided than
        the list will contain only PR with the wanted status. If a state is not provided,
        by default a list of the open pull requests will return.
      script: Bitbucket|||bitbucket-pull-request-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: dbe461b3-61bf-46e5-86ae-749a88471cc8
    type: condition
    task:
      id: dbe461b3-61bf-46e5-86ae-749a88471cc8
      version: -1
      name: Verify Pull Request List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "48"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.author.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7010
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "28":
    id: "28"
    taskid: 65afdace-7957-4f97-8f21-94cdd6affba1
    type: regular
    task:
      id: 65afdace-7957-4f97-8f21-94cdd6affba1
      version: -1
      name: Issue Comment Create
      description: Creates a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "51"
    scriptarguments:
      content:
        simple: check creating comment
      issue_id:
        simple: ${Bitbucket.Issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "32":
    id: "32"
    taskid: 775d6a70-5d99-45c2-8fbc-a10dcc5fae1b
    type: regular
    task:
      id: 775d6a70-5d99-45c2-8fbc-a10dcc5fae1b
      version: -1
      name: Issue Comment Delete
      description: Deletes a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "45"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      retry-count:
        simple: "0"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3980
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "36":
    id: "36"
    taskid: fe708891-f941-44e6-8893-6b24a62c6ed4
    type: regular
    task:
      id: fe708891-f941-44e6-8893-6b24a62c6ed4
      version: -1
      name: delete context
      description: |-
        Delete field from context.

        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs.paloaltonetworks.com/cortex/cortex-xsoar/6-2/cortex-xsoar-admin/playbooks/automations.html
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "18"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4480
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "37":
    id: "37"
    taskid: 9da79fab-ebde-4f5f-80f0-4dbfb8218bae
    type: regular
    task:
      id: 9da79fab-ebde-4f5f-80f0-4dbfb8218bae
      version: -1
      name: Test issue comment list command
      description: Returns a list of comments on a specific issue. If a comment_id
        is given it will return information only about the specific comment.
      script: Bitbucket|||bitbucket-issue-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "38"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3655
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "38":
    id: "38"
    taskid: 0f5b2077-e9b8-437b-84d3-a11ff55bb268
    type: condition
    task:
      id: 0f5b2077-e9b8-437b-84d3-a11ff55bb268
      version: -1
      name: check issue comment list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "32"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.user.display_name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "39":
    id: "39"
    taskid: e2dd02f6-5383-4e20-8d89-3a6e155d4aa2
    type: regular
    task:
      id: e2dd02f6-5383-4e20-8d89-3a6e155d4aa2
      version: -1
      name: Pull Request Comment Create
      description: Creates a new comment on a pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "40"
    scriptarguments:
      content:
        simple: hi there, I an a new pull request comment
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5660
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "40":
    id: "40"
    taskid: b475ec43-4ffe-491e-8dd1-f6a981859ed4
    type: condition
    task:
      id: b475ec43-4ffe-491e-8dd1-f6a981859ed4
      version: -1
      name: Verify Pull Request Comment
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "41"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: hi there, I an a new pull request comment
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5825
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "41":
    id: "41"
    taskid: 9cd1fafe-6932-4c22-81e8-5c43ada7fcdc
    type: regular
    task:
      id: 9cd1fafe-6932-4c22-81e8-5c43ada7fcdc
      version: -1
      name: Pull Request Comment Update
      description: updates a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "42"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      content:
        simple: it is an updated comment on a pull request
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6000
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "42":
    id: "42"
    taskid: b62258b5-8c16-4696-80bc-a2e790a7fc79
    type: condition
    task:
      id: b62258b5-8c16-4696-80bc-a2e790a7fc79
      version: -1
      name: Verify Pull Request Comment Update
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "43"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: it is an updated comment on a pull request
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6160
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "43":
    id: "43"
    taskid: 03daaf82-e1fe-4067-82b5-66b5f4ee3862
    type: regular
    task:
      id: 03daaf82-e1fe-4067-82b5-66b5f4ee3862
      version: -1
      name: Pull Request Comment List
      description: returns a list of comments of a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "44"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      limit:
        simple: "30"
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "44":
    id: "44"
    taskid: 92d49280-d31d-4f2e-8cd0-bdd73f6f07ca
    type: condition
    task:
      id: 92d49280-d31d-4f2e-8cd0-bdd73f6f07ca
      version: -1
      name: Verify Pull Request Comment List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "47"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.pullrequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6510
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "45":
    id: "45"
    taskid: b3f717b1-e4e6-424e-8adf-3900255e0b5d
    type: regular
    task:
      id: b3f717b1-e4e6-424e-8adf-3900255e0b5d
      version: -1
      name: Issue Update - Resolved
      description: Updates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: Bitbucket|||bitbucket-issue-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "46"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.Issue.id}
      state:
        simple: resolved
      title:
        simple: ${Bitbucket.Issue.title}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4140
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "46":
    id: "46"
    taskid: c22d350e-4ad5-4f1b-8b50-95487870b3c8
    type: condition
    task:
      id: c22d350e-4ad5-4f1b-8b50-95487870b3c8
      version: -1
      name: Verify Issue Update - Resolved
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "36"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Issue.state
            iscontext: true
          right:
            value:
              simple: resolved
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4310
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "47":
    id: "47"
    taskid: f34b6fc3-6a45-4d2b-84a1-006def4f1df5
    type: regular
    task:
      id: f34b6fc3-6a45-4d2b-84a1-006def4f1df5
      version: -1
      name: Pull Request Comment Delete
      description: deletes a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6690
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "48":
    id: "48"
    taskid: b821691f-064a-4082-8095-428d677cddf0
    type: regular
    task:
      id: b821691f-064a-4082-8095-428d677cddf0
      version: -1
      name: Workspace Member List
      description: returns a list of all the members in the workspace.
      script: Bitbucket|||bitbucket-workspace-member-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "49"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7190
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "49":
    id: "49"
    taskid: d604e012-c603-445f-80ce-5624a6539cbe
    type: condition
    task:
      id: d604e012-c603-445f-80ce-5624a6539cbe
      version: -1
      name: Verify Workspace Member List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "3"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.WorkspaceMember.user.account_id
            iscontext: true
          right:
            value: {}
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7350
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "50":
    id: "50"
    taskid: c6b1ba24-ca60-475c-8576-dc9d58ada50d
    type: condition
    task:
      id: c6b1ba24-ca60-475c-8576-dc9d58ada50d
      version: -1
      name: Verify Branch Get outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "11"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "51":
    id: "51"
    taskid: 064a8a16-67d7-4dd2-892b-16c9268b6322
    type: condition
    task:
      id: 064a8a16-67d7-4dd2-892b-16c9268b6322
      version: -1
      name: Verify Issue Comment Create
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "52"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3025
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "52":
    id: "52"
    taskid: 8152f762-e776-4720-89d3-4ac6898f41df
    type: regular
    task:
      id: 8152f762-e776-4720-89d3-4ac6898f41df
      version: -1
      name: Issue Comment Update
      description: Updates a specific comment on a given issue.
      script: Bitbucket|||bitbucket-issue-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "53"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      content:
        simple: just changing the content
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "53":
    id: "53"
    taskid: 614c7e95-97ae-4c2e-843d-5719f882c486
    type: condition
    task:
      id: 614c7e95-97ae-4c2e-843d-5719f882c486
      version: -1
      name: Verify Issue Comment Update outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "37"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
          right:
            value:
              simple: just changing the content
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3430
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "54":
    id: "54"
    taskid: 1692bf1b-a995-48cb-88a6-e35a3a60b5df
    type: condition
    task:
      id: 1692bf1b-a995-48cb-88a6-e35a3a60b5df
      version: -1
      name: Verify Issue Create
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "28"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
          right:
            value: {}
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2665
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "55":
    id: "55"
    taskid: f7103fa8-7feb-4fcd-8c07-d89de9dbb149
    type: condition
    task:
      id: f7103fa8-7feb-4fcd-8c07-d89de9dbb149
      version: -1
      name: Verify Open Branch List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "56"
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: test
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "56":
    id: "56"
    taskid: 986da7fe-0a31-4f88-8073-e13aae5776c8
    type: regular
    task:
      id: 986da7fe-0a31-4f88-8073-e13aae5776c8
      version: -1
      name: Branch Create
      script: Bitbucket|||bitbucket-branch-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      name:
        simple: demisto
      target_branch:
        simple: master
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 1020
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 7645,
        "width": 1250,
        "x": 30,
        "y": 40
      }
    }
  }
inputs: []
outputs: []
