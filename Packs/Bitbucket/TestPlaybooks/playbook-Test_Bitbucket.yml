id: Test_Bitbucket
version: -1
vcShouldKeepItemLegacyProdMachine: false
name: Test_Bitbucket
description: A playbook for Bitbucket integration
fromversion: 6.5.0
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: f0b48305-2aab-4d9c-8b9f-1154d6316165
    type: start
    task:
      id: f0b48305-2aab-4d9c-8b9f-1154d6316165
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 40
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: 0619e123-450b-4200-82a5-4571930e24ab
    type: regular
    task:
      id: 0619e123-450b-4200-82a5-4571930e24ab
      version: -1
      name: Projects List
      script: Bitbucket|||bitbucket-project-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: 56035598-0856-4026-8f49-cb6dd9ccf467
    type: condition
    task:
      id: 56035598-0856-4026-8f49-cb6dd9ccf467
      version: -1
      name: Verify List Projects output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "4"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.key
            iscontext: true
          right:
            value: {}
          ignorecase: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.owner.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 380
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: 3363a4cf-8ec5-42da-8a75-7c1387cffc8c
    type: title
    task:
      id: 3363a4cf-8ec5-42da-8a75-7c1387cffc8c
      version: -1
      name: Finish
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7620
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: ad695f6e-1bff-43de-88b5-31ee13f8cb6a
    type: regular
    task:
      id: ad695f6e-1bff-43de-88b5-31ee13f8cb6a
      version: -1
      name: Open Branch List
      script: Bitbucket|||bitbucket-open-branch-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "5"
      - "55"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 555
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: b805a31b-a152-4c44-82e2-ca219be0427c
    type: condition
    task:
      id: b805a31b-a152-4c44-82e2-ca219be0427c
      version: -1
      name: Verify Open Branch List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "8"
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: demisto
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: 0c418305-e55a-401e-8c94-41c30af51bd6
    type: regular
    task:
      id: 0c418305-e55a-401e-8c94-41c30af51bd6
      version: -1
      name: Branch Get
      script: Bitbucket|||bitbucket-branch-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "50"
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "8":
    id: "8"
    taskid: 2601d3ee-a3c9-4884-829a-91572939f256
    type: regular
    task:
      id: 2601d3ee-a3c9-4884-829a-91572939f256
      version: -1
      name: Branch Create
      script: Bitbucket|||bitbucket-branch-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "9"
    scriptarguments:
      name:
        simple: demisto
      target_branch:
        simple: master
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 900,
          "y": 880
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "9":
    id: "9"
    taskid: c4879f21-de49-4bc2-8a52-6829c603df1b
    type: condition
    task:
      id: c4879f21-de49-4bc2-8a52-6829c603df1b
      version: -1
      name: Verify Branch Create outputs
      description: Check whether the values provided in arguments are equal. If either
        of the arguments are missing, no is returned.
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.account_id
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: demisto
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 900,
          "y": 1040
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "10":
    id: "10"
    taskid: 565dbadd-9df1-4880-8ffe-345bcc169fcb
    type: regular
    task:
      id: 565dbadd-9df1-4880-8ffe-345bcc169fcb
      version: -1
      name: Branch Delete
      script: Bitbucket|||bitbucket-branch-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 1180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: 162d7702-de7f-4875-8539-8c8ba526f5f1
    type: regular
    task:
      id: 162d7702-de7f-4875-8539-8c8ba526f5f1
      version: -1
      name: Commit Create
      script: Bitbucket|||bitbucket-commit-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "12"
    scriptarguments:
      branch:
        simple: demisto
      file_content:
        simple: hello file1
      file_name:
        simple: file1
      message:
        simple: message
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1525
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "12":
    id: "12"
    taskid: 6e8c7c03-ef79-47c8-8155-c7f85ccccf2a
    type: regular
    task:
      id: 6e8c7c03-ef79-47c8-8155-c7f85ccccf2a
      version: -1
      name: Commit List
      script: Bitbucket|||bitbucket-commit-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "13"
    scriptarguments:
      included_branches:
        simple: demisto
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1685
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "13":
    id: "13"
    taskid: 9cd5b6ef-6bcb-4feb-8936-8443fd34dedf
    type: condition
    task:
      id: 9cd5b6ef-6bcb-4feb-8936-8443fd34dedf
      version: -1
      name: Verify Commit List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.hash
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.message
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "14":
    id: "14"
    taskid: ad836356-54c6-437e-8535-a220230c2850
    type: regular
    task:
      id: ad836356-54c6-437e-8535-a220230c2850
      version: -1
      name: File Delete command
      script: Bitbucket|||bitbucket-file-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "17"
    scriptarguments:
      branch:
        simple: demisto
      file_name:
        simple: file1
      message:
        simple: delete message file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "15":
    id: "15"
    taskid: a027c44b-c32d-4268-857c-827d87c00af2
    type: regular
    task:
      id: a027c44b-c32d-4268-857c-827d87c00af2
      version: -1
      name: Raw File Get
      script: Bitbucket|||bitbucket-raw-file-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "16"
    scriptarguments:
      branch:
        simple: demisto
      file_path:
        simple: file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2015
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: fb7ff651-4c7a-4692-8447-343648988bb4
    type: condition
    task:
      id: fb7ff651-4c7a-4692-8447-343648988bb4
      version: -1
      name: Verify Raw File Get output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "14"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_path
            iscontext: true
          right:
            value:
              simple: file1
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_content
            iscontext: true
          right:
            value:
              simple: hello file1
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 44131257-3d92-463b-8537-f4fcee84f842
    type: regular
    task:
      id: 44131257-3d92-463b-8537-f4fcee84f842
      version: -1
      name: Issue Create
      description: Creates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: '|||bitbucket-issue-create'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "54"
    scriptarguments:
      content:
        simple: enhancement for an integration
      priority:
        simple: minor
      state:
        simple: open
      title:
        simple: test_issue
      type:
        simple: enhancement
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2500
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: cd05977b-cf5a-410a-84b4-8894963e59be
    type: regular
    task:
      id: cd05977b-cf5a-410a-84b4-8894963e59be
      version: -1
      name: Issue List
      script: Bitbucket|||bitbucket-issue-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4640
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: dccef8b0-f344-42ea-87b5-70b83c58850a
    type: condition
    task:
      id: dccef8b0-f344-42ea-87b5-70b83c58850a
      version: -1
      name: Verify Issue List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "22"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.title
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4800
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 3072391d-f73f-483f-864a-9e8b2bcb5dc9
    type: regular
    task:
      id: 3072391d-f73f-483f-864a-9e8b2bcb5dc9
      version: -1
      name: Pull Request Create
      script: Bitbucket|||bitbucket-pull-request-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      destination_branch:
        simple: master
      source_branch:
        simple: demisto
      title:
        simple: new pr
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4975
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: 0315741a-d7cb-4e39-892f-4175a3152c3e
    type: condition
    task:
      id: 0315741a-d7cb-4e39-892f-4175a3152c3e
      version: -1
      name: Verify Pull Request Create outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "24"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.title
            iscontext: true
          right:
            value:
              simple: new pr
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5140
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 8c972f4a-cb32-4181-805d-d9b89e4b3574
    type: regular
    task:
      id: 8c972f4a-cb32-4181-805d-d9b89e4b3574
      version: -1
      name: Pull Request Update
      script: Bitbucket|||bitbucket-pull-request-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      description:
        simple: updates description
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5305
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: e7f8ba80-af04-460e-820c-e84220608f73
    type: condition
    task:
      id: e7f8ba80-af04-460e-820c-e84220608f73
      version: -1
      name: Verify Pull Request Update
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "39"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
          right:
            value: {}
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.description
            iscontext: true
          right:
            value:
              simple: updates description
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: ffabf941-aea1-4487-862f-4dda8a65941a
    type: regular
    task:
      id: ffabf941-aea1-4487-862f-4dda8a65941a
      version: -1
      name: Pull Request List
      description: Returns a list of the pull requests. If a state is provided than
        the list will contain only PR with the wanted status. If a state is not provided,
        by default a list of the open pull requests will return.
      script: Bitbucket|||bitbucket-pull-request-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: 106bce73-38c4-4a93-85a9-cd2394f2b8ec
    type: condition
    task:
      id: 106bce73-38c4-4a93-85a9-cd2394f2b8ec
      version: -1
      name: Verify Pull Request List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "48"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.author.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7010
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "28":
    id: "28"
    taskid: 5afbd885-2643-4494-88e7-de6e1f85f77b
    type: regular
    task:
      id: 5afbd885-2643-4494-88e7-de6e1f85f77b
      version: -1
      name: Issue Comment Create
      description: Creates a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "51"
    scriptarguments:
      content:
        simple: check creating comment
      issue_id:
        simple: ${Bitbucket.Issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "32":
    id: "32"
    taskid: e8285339-e8a9-4b55-8616-045ba4d8f059
    type: regular
    task:
      id: e8285339-e8a9-4b55-8616-045ba4d8f059
      version: -1
      name: Issue Comment Delete
      description: Deletes a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "45"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      retry-count:
        simple: "0"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3980
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "36":
    id: "36"
    taskid: c48a7fb5-116d-4998-8ef7-56fed0096aab
    type: regular
    task:
      id: c48a7fb5-116d-4998-8ef7-56fed0096aab
      version: -1
      name: delete context
      description: |-
        Delete field from context.

        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs.paloaltonetworks.com/cortex/cortex-xsoar/6-2/cortex-xsoar-admin/playbooks/automations.html
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "18"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4480
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "37":
    id: "37"
    taskid: 79f4baf4-408d-44b1-8ebb-6530e26757e8
    type: regular
    task:
      id: 79f4baf4-408d-44b1-8ebb-6530e26757e8
      version: -1
      name: Test issue comment list command
      description: Returns a list of comments on a specific issue. If a comment_id
        is given it will return information only about the specific comment.
      script: Bitbucket|||bitbucket-issue-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "38"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3655
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "38":
    id: "38"
    taskid: 84e56d46-e028-4d3c-8705-1011124c994a
    type: condition
    task:
      id: 84e56d46-e028-4d3c-8705-1011124c994a
      version: -1
      name: check issue comment list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "32"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.user.display_name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "39":
    id: "39"
    taskid: 6527ac7a-153a-4378-8c21-6a2e70b80f6a
    type: regular
    task:
      id: 6527ac7a-153a-4378-8c21-6a2e70b80f6a
      version: -1
      name: Pull Request Comment Create
      description: Creates a new comment on a pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "40"
    scriptarguments:
      content:
        simple: hi there, I an a new pull request comment
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5660
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "40":
    id: "40"
    taskid: 2baaf7f1-b1df-4974-8892-4d8ac7896f0b
    type: condition
    task:
      id: 2baaf7f1-b1df-4974-8892-4d8ac7896f0b
      version: -1
      name: Verify Pull Request Comment
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "41"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: hi there, I an a new pull request comment
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 5825
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "41":
    id: "41"
    taskid: 47c1d4eb-127a-4ef7-84b4-7f0c0e09c1ef
    type: regular
    task:
      id: 47c1d4eb-127a-4ef7-84b4-7f0c0e09c1ef
      version: -1
      name: Pull Request Comment Update
      description: updates a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "42"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      content:
        simple: it is an updated comment on a pull request
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6000
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "42":
    id: "42"
    taskid: 9c21f9ae-9812-495c-8279-1d01b9164954
    type: condition
    task:
      id: 9c21f9ae-9812-495c-8279-1d01b9164954
      version: -1
      name: Verify Pull Request Comment Update
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "43"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: it is an updated comment on a pull request
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6160
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "43":
    id: "43"
    taskid: a2de1c16-30e8-441e-8225-99349121e506
    type: regular
    task:
      id: a2de1c16-30e8-441e-8225-99349121e506
      version: -1
      name: Pull Request Comment List
      description: returns a list of comments of a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "44"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      limit:
        simple: "30"
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "44":
    id: "44"
    taskid: 53bbd607-9b39-4311-8ed0-446d8d4e21bf
    type: condition
    task:
      id: 53bbd607-9b39-4311-8ed0-446d8d4e21bf
      version: -1
      name: Verify Pull Request Comment List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "47"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.pullrequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6510
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "45":
    id: "45"
    taskid: 4de7343a-76cd-4d53-8aeb-bce21fc3409e
    type: regular
    task:
      id: 4de7343a-76cd-4d53-8aeb-bce21fc3409e
      version: -1
      name: Issue Update - Resolved
      description: Updates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: Bitbucket|||bitbucket-issue-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "46"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.Issue.id}
      state:
        simple: resolved
      title:
        simple: ${Bitbucket.Issue.title}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4140
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "46":
    id: "46"
    taskid: 79df5611-9c16-4100-8068-f63a941aba88
    type: condition
    task:
      id: 79df5611-9c16-4100-8068-f63a941aba88
      version: -1
      name: Verify Issue Update - Resolved
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "36"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Issue.state
            iscontext: true
          right:
            value:
              simple: resolved
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 4310
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "47":
    id: "47"
    taskid: 6034126e-beec-4007-8577-b5302856b543
    type: regular
    task:
      id: 6034126e-beec-4007-8577-b5302856b543
      version: -1
      name: Pull Request Comment Delete
      description: deletes a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 6690
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "48":
    id: "48"
    taskid: 91c81c69-70a1-437c-8bd3-d71cfb20af8f
    type: regular
    task:
      id: 91c81c69-70a1-437c-8bd3-d71cfb20af8f
      version: -1
      name: Workspace Member List
      description: returns a list of all the members in the workspace.
      script: Bitbucket|||bitbucket-workspace-member-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "49"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7190
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "49":
    id: "49"
    taskid: d63dd34d-9ae6-4a18-8fa9-c13d2874bb2f
    type: condition
    task:
      id: d63dd34d-9ae6-4a18-8fa9-c13d2874bb2f
      version: -1
      name: Verify Workspace Member List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "3"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.WorkspaceMember.user.account_id
            iscontext: true
          right:
            value: {}
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 7350
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "50":
    id: "50"
    taskid: 79d0c386-75ce-4946-80b4-0493d986a002
    type: condition
    task:
      id: 79d0c386-75ce-4946-80b4-0493d986a002
      version: -1
      name: Verify Branch Get outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "11"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "51":
    id: "51"
    taskid: c38ae1d1-8740-4b21-8958-0a730431482a
    type: condition
    task:
      id: c38ae1d1-8740-4b21-8958-0a730431482a
      version: -1
      name: Verify Issue Comment Create
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "52"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3025
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "52":
    id: "52"
    taskid: 9071197c-0fb3-4467-891e-6fe63c51d653
    type: regular
    task:
      id: 9071197c-0fb3-4467-891e-6fe63c51d653
      version: -1
      name: Issue Comment Update
      description: Updates a specific comment on a given issue.
      script: Bitbucket|||bitbucket-issue-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "53"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "53":
    id: "53"
    taskid: a989024c-ad99-41d5-846d-55f5be40cc8f
    type: condition
    task:
      id: a989024c-ad99-41d5-846d-55f5be40cc8f
      version: -1
      name: Verify Issue Comment Update outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "37"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
          right:
            value:
              simple: just changing the content
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3430
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "54":
    id: "54"
    taskid: 7a95f942-7270-446e-8c7c-d17ace458149
    type: condition
    task:
      id: 7a95f942-7270-446e-8c7c-d17ace458149
      version: -1
      name: Verify Issue Create
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "28"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
          right:
            value: {}
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2665
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "55":
    id: "55"
    taskid: 62b11513-1c39-4ad9-85c0-e906c4a9e327
    type: condition
    task:
      id: 62b11513-1c39-4ad9-85c0-e906c4a9e327
      version: -1
      name: Verify Open Branch List outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "56"
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
          right:
            value: {}
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
          right:
            value:
              simple: test
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 850
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "56":
    id: "56"
    taskid: c77c0dd8-f6dd-41a0-80cb-4d53005dd8ae
    type: regular
    task:
      id: c77c0dd8-f6dd-41a0-80cb-4d53005dd8ae
      version: -1
      name: Branch Create
      script: Bitbucket|||bitbucket-branch-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      name:
        simple: demisto
      target_branch:
        simple: master
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 30,
          "y": 1020
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 7645,
        "width": 1250,
        "x": 30,
        "y": 40
      }
    }
  }
inputs: []
outputs: []
