id: Test_Bitbucket
version: 2
vcShouldKeepItemLegacyProdMachine: false
name: Test_Bitbucket
description: A playbook for Bitbucket integration
fromversion: 6.5.0
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: c04b83dc-e8e5-4c22-8daa-0edbdce49e9b
    type: start
    task:
      id: c04b83dc-e8e5-4c22-8daa-0edbdce49e9b
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 30
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: e5260781-c5cc-4071-8ead-c5c9a471ac77
    type: regular
    task:
      id: e5260781-c5cc-4071-8ead-c5c9a471ac77
      version: -1
      name: test_project_list_command
      script: Bitbucket|||bitbucket-project-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "2"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: c67a56be-2dcd-44a9-8043-c5a2014e8e00
    type: condition
    task:
      id: c67a56be-2dcd-44a9-8043-c5a2014e8e00
      version: -1
      name: 'Check project list command output '
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "4"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.key
            iscontext: true
          right:
            value: {}
          ignorecase: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Project.owner.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 410
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: ad23a076-b81b-4243-89db-ccc1338cc7e6
    type: title
    task:
      id: ad23a076-b81b-4243-89db-ccc1338cc7e6
      version: -1
      name: Finish
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 8550
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: 3bb044cc-43c0-4039-8b96-7d3b0d7fb330
    type: regular
    task:
      id: 3bb044cc-43c0-4039-8b96-7d3b0d7fb330
      version: -1
      name: Test open branch list command
      script: Bitbucket|||bitbucket-open-branch-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "5"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 575
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: e18805ce-1540-4c43-8e80-71fe6c5c306c
    type: condition
    task:
      id: e18805ce-1540-4c43-8e80-71fe6c5c306c
      version: -1
      name: Check open branch list command
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "8"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 740
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: 770a9285-2c11-4334-8db8-7bf575b898d1
    type: regular
    task:
      id: 770a9285-2c11-4334-8db8-7bf575b898d1
      version: -1
      name: 'Test branch get command '
      script: Bitbucket|||bitbucket-branch-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "7"
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: ac98fc3d-5f45-4aee-8b48-a9fa33a04cbb
    type: condition
    task:
      id: ac98fc3d-5f45-4aee-8b48-a9fa33a04cbb
      version: -1
      name: check branch get output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "10"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.hash
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.display_name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1360
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "8":
    id: "8"
    taskid: 7fecf0cf-ebd8-4de8-8d16-50224996b513
    type: regular
    task:
      id: 7fecf0cf-ebd8-4de8-8d16-50224996b513
      version: -1
      name: Test branch create command
      script: Bitbucket|||bitbucket-branch-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "9"
    scriptarguments:
      name:
        simple: demisto
      target_branch:
        simple: master
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 890
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "9":
    id: "9"
    taskid: f0f33190-a73f-49ce-87c3-80d4ebf8da4e
    type: condition
    task:
      id: f0f33190-a73f-49ce-87c3-80d4ebf8da4e
      version: -1
      name: Check branch create output
      description: Check whether the values provided in arguments are equal. If either
        of the arguments are missing, no is returned.
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.name
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Branch.target.author.user.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1035
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "10":
    id: "10"
    taskid: 69327df0-48e0-4d8c-8819-466a050019b8
    type: regular
    task:
      id: 69327df0-48e0-4d8c-8819-466a050019b8
      version: -1
      name: Test branch delete command
      script: Bitbucket|||bitbucket-branch-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "11"
    scriptarguments:
      branch_name:
        simple: demisto
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1525
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: cd2034ba-7a4f-41be-8a61-5d82a10ff52b
    type: regular
    task:
      id: cd2034ba-7a4f-41be-8a61-5d82a10ff52b
      version: -1
      name: Test commit create command
      script: Bitbucket|||bitbucket-commit-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "12"
    scriptarguments:
      branch:
        simple: test
      file_content:
        simple: hello file1
      file_name:
        simple: file1
      message:
        simple: message
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1675
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "12":
    id: "12"
    taskid: d832c91b-303a-4b13-8118-ff2a71ac185a
    type: regular
    task:
      id: d832c91b-303a-4b13-8118-ff2a71ac185a
      version: -1
      name: Test commit list command
      script: Bitbucket|||bitbucket-commit-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "13"
    scriptarguments:
      included_branches:
        simple: test
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 1845
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "13":
    id: "13"
    taskid: 3098461f-5921-4774-80d0-fabe11d6c0ff
    type: condition
    task:
      id: 3098461f-5921-4774-80d0-fabe11d6c0ff
      version: -1
      name: Check commit list
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "15"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.hash
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Commit.message
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2010
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "14":
    id: "14"
    taskid: 078fdf73-4b71-4f87-8fe1-970c05bc4210
    type: regular
    task:
      id: 078fdf73-4b71-4f87-8fe1-970c05bc4210
      version: -1
      name: Test file delete command
      script: Bitbucket|||bitbucket-file-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "17"
    scriptarguments:
      branch:
        simple: test
      file_name:
        simple: file1
      message:
        simple: delete message file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2500
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "15":
    id: "15"
    taskid: b8a11026-ee95-4801-8890-c0a9fd0c4476
    type: regular
    task:
      id: b8a11026-ee95-4801-8890-c0a9fd0c4476
      version: -1
      name: Test raw file get command
      script: Bitbucket|||bitbucket-raw-file-get
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "16"
    scriptarguments:
      branch:
        simple: test
      file_path:
        simple: file1
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2175
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "16":
    id: "16"
    taskid: 3e0cc27e-1f1d-4a42-87ab-cdfa9a7e6b10
    type: condition
    task:
      id: 3e0cc27e-1f1d-4a42-87ab-cdfa9a7e6b10
      version: -1
      name: Check raw file get output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "14"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_path
            iscontext: true
          right:
            value:
              simple: file1
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.RawFile.file_content
            iscontext: true
          right:
            value:
              simple: hello file1
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2340
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "17":
    id: "17"
    taskid: 8370f758-81fa-48b5-85b3-7e3743331ba9
    type: regular
    task:
      id: 8370f758-81fa-48b5-85b3-7e3743331ba9
      version: -1
      name: Test issue create command
      description: Creates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: '|||bitbucket-issue-create'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "28"
    scriptarguments:
      content:
        simple: enhancement for an integration
      priority:
        simple: minor
      state:
        simple: open
      title:
        simple: test_issue
      type:
        simple: enhancement
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2660
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: d72b1c27-38e0-4db6-8e8a-d1c09e7af9de
    type: regular
    task:
      id: d72b1c27-38e0-4db6-8e8a-d1c09e7af9de
      version: -1
      name: Test issue list command
      script: Bitbucket|||bitbucket-issue-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 5350
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: 38d1d85d-b195-4644-86ae-f1d245d03a75
    type: condition
    task:
      id: 38d1d85d-b195-4644-86ae-f1d245d03a75
      version: -1
      name: check issue list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "22"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.title
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 5540
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: 82d671f9-fd68-41c9-8a1e-fd44260107e1
    type: regular
    task:
      id: 82d671f9-fd68-41c9-8a1e-fd44260107e1
      version: -1
      name: Test issue update command
      description: Updates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: Bitbucket|||bitbucket-issue-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "21"
    scriptarguments:
      content:
        simple: updated content
      issue_id:
        simple: ${Bitbucket.Issue.id}
      state:
        simple: resolved
      title:
        simple: ${Bitbucket.Issue.title}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 3960
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: 81eb0b2e-73e9-4dfd-8789-6862f4c916b3
    type: condition
    task:
      id: 81eb0b2e-73e9-4dfd-8789-6862f4c916b3
      version: -1
      name: Check issue update command
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "35"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Issue.content.raw
            iscontext: true
          right:
            value:
              simple: updated content
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4125
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 5ab3c6bf-a2f6-487a-899b-642f79b17aa2
    type: regular
    task:
      id: 5ab3c6bf-a2f6-487a-899b-642f79b17aa2
      version: -1
      name: Test pull request create command
      script: Bitbucket|||bitbucket-pull-request-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      destination_branch:
        simple: master
      source_branch:
        simple: test
      title:
        simple: new pr
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 5720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: f858389e-558f-4618-8774-4c068d2116d0
    type: condition
    task:
      id: f858389e-558f-4618-8774-4c068d2116d0
      version: -1
      name: Check pull request create
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "24"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.title
            iscontext: true
          right:
            value:
              simple: new pr
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 5890
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "24":
    id: "24"
    taskid: 6aba43fb-9fba-4513-888b-72aa2a66562f
    type: regular
    task:
      id: 6aba43fb-9fba-4513-888b-72aa2a66562f
      version: -1
      name: Test pull request update command
      script: Bitbucket|||bitbucket-pull-request-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      description:
        simple: updates description
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6090
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "25":
    id: "25"
    taskid: 6ba4aa62-8360-4bd9-85d3-7c316a0650e9
    type: condition
    task:
      id: 6ba4aa62-8360-4bd9-85d3-7c316a0650e9
      version: -1
      name: Check pull request update output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "39"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequest.description
            iscontext: true
          right:
            value:
              simple: updates description
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6270
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "26":
    id: "26"
    taskid: 2e04bca6-5f8f-4a97-8dc6-a1581f63f568
    type: regular
    task:
      id: 2e04bca6-5f8f-4a97-8dc6-a1581f63f568
      version: -1
      name: Test pull request list command
      description: Returns a list of the pull requests. If a state is provided than
        the list will contain only PR with the wanted status. If a state is not provided,
        by default a list of the open pull requests will return.
      script: Bitbucket|||bitbucket-pull-request-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 7740
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "27":
    id: "27"
    taskid: 02894363-c8fa-43b5-837b-128dab98e985
    type: condition
    task:
      id: 02894363-c8fa-43b5-837b-128dab98e985
      version: -1
      name: Check pull request list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "48"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequest.author.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 7925
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "28":
    id: "28"
    taskid: be75463b-6a3b-40c6-8097-6455729cf31f
    type: regular
    task:
      id: be75463b-6a3b-40c6-8097-6455729cf31f
      version: -1
      name: Test issue comment create command
      description: Creates a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "32"
    scriptarguments:
      content:
        simple: check creating comment
      issue_id:
        simple: ${Bitbucket.Issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "29":
    id: "29"
    taskid: 100316ee-19bd-4f29-8732-fd93d170bf18
    type: condition
    task:
      id: 100316ee-19bd-4f29-8732-fd93d170bf18
      version: -1
      name: 'Check issue comment create '
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "30"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
          right:
            value: {}
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
          right:
            value:
              simple: a new comment on an issue
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4450
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "30":
    id: "30"
    taskid: c4a77372-c16a-425c-80d7-0557352134bf
    type: regular
    task:
      id: c4a77372-c16a-425c-80d7-0557352134bf
      version: -1
      name: Test issue comment update command
      description: Updates a specific comment on a given issue.
      script: Bitbucket|||bitbucket-issue-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "31"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      content:
        simple: hello
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4630
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "31":
    id: "31"
    taskid: b037d9d9-b78f-4cba-8b76-060413bf7576
    type: condition
    task:
      id: b037d9d9-b78f-4cba-8b76-060413bf7576
      version: -1
      name: check issue comment update
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "37"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.IssueComment.content.raw
            iscontext: true
          right:
            value:
              simple: hello
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4800
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "32":
    id: "32"
    taskid: 21172403-f209-431c-8699-b1ce7f3ba943
    type: regular
    task:
      id: 21172403-f209-431c-8699-b1ce7f3ba943
      version: -1
      name: bitbucket-issue-comment-delete
      description: Deletes a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "45"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.IssueComment.id}
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      retry-count:
        simple: "0"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 2980
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "33":
    id: "33"
    taskid: 029d70d4-2449-400a-82bd-348f82206501
    type: regular
    task:
      id: 029d70d4-2449-400a-82bd-348f82206501
      version: -1
      name: Test create issue command
      description: Creates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: Bitbucket|||bitbucket-issue-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "34"
    scriptarguments:
      title:
        simple: Hi I am new
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 3630
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "34":
    id: "34"
    taskid: 09383594-ee4e-4328-8eea-58784be72a32
    type: condition
    task:
      id: 09383594-ee4e-4328-8eea-58784be72a32
      version: -1
      name: Check create issue output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "20"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.Issue.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 3790
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "35":
    id: "35"
    taskid: 1c33d377-4ffc-413b-87ae-64dcb4cb79e0
    type: regular
    task:
      id: 1c33d377-4ffc-413b-87ae-64dcb4cb79e0
      version: -1
      name: Test issue comment create
      description: Creates a comment on an issue in Bitbucket.
      script: Bitbucket|||bitbucket-issue-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "29"
    scriptarguments:
      content:
        simple: a new comment on an issue
      issue_id:
        simple: ${Bitbucket.Issue.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4290
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "36":
    id: "36"
    taskid: 31e648fb-1bf2-4b86-8e2b-0988dc006762
    type: regular
    task:
      id: 31e648fb-1bf2-4b86-8e2b-0988dc006762
      version: -1
      name: delete context
      description: |-
        Delete field from context.

        This automation runs using the default Limited User role, unless you explicitly change the permissions.
        For more information, see the section about permissions here:
        https://docs.paloaltonetworks.com/cortex/cortex-xsoar/6-2/cortex-xsoar-admin/playbooks/automations.html
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "33"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 3470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "37":
    id: "37"
    taskid: bc4c102f-54a8-407d-844f-e8331189c8ba
    type: regular
    task:
      id: bc4c102f-54a8-407d-844f-e8331189c8ba
      version: -1
      name: Test issue comment list command
      description: Returns a list of comments on a specific issue. If a comment_id
        is given it will return information only about the specific comment.
      script: Bitbucket|||bitbucket-issue-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "38"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.IssueComment.issue.id}
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 4990
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "38":
    id: "38"
    taskid: b9b23014-816c-42de-885b-27d339732249
    type: condition
    task:
      id: b9b23014-816c-42de-885b-27d339732249
      version: -1
      name: check issue comment list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "18"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.IssueComment.user.display_name
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 5170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "39":
    id: "39"
    taskid: eff61895-d304-47cf-8bfe-c65667283f0d
    type: regular
    task:
      id: eff61895-d304-47cf-8bfe-c65667283f0d
      version: -1
      name: Test pull request comment create
      description: Creates a new comment on a pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-create
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "40"
    scriptarguments:
      content:
        simple: hi there, I an a new pull request comment
      pull_request_id:
        simple: ${Bitbucket.PullRequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6465
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "40":
    id: "40"
    taskid: ef085553-b1e3-408a-8cf0-305fb9bc4f6c
    type: condition
    task:
      id: ef085553-b1e3-408a-8cf0-305fb9bc4f6c
      version: -1
      name: check pull request comment output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "41"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: hi there, I an a new pull request comment
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6630
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "41":
    id: "41"
    taskid: d9c35b27-2d77-473a-86a6-e45204c08af4
    type: regular
    task:
      id: d9c35b27-2d77-473a-86a6-e45204c08af4
      version: -1
      name: Test pull request comment update
      description: updates a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "42"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      content:
        simple: it is an updated comment on a pull request
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "42":
    id: "42"
    taskid: 9d7e1129-01f6-4a53-8b97-f6fdb729478f
    type: condition
    task:
      id: 9d7e1129-01f6-4a53-8b97-f6fdb729478f
      version: -1
      name: Check pull request comment update output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "43"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.PullRequestComment.content.raw
            iscontext: true
          right:
            value:
              simple: it is an updated comment on a pull request
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 6995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "43":
    id: "43"
    taskid: 8f88399c-cdb5-4afa-8883-bf080d387698
    type: regular
    task:
      id: 8f88399c-cdb5-4afa-8883-bf080d387698
      version: -1
      name: Test Pull request comment list command
      description: returns a list of comments of a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "44"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      limit:
        simple: "30"
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 7180
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "44":
    id: "44"
    taskid: cb7cb2bc-55e4-4e86-80b6-da4ba1b2e01e
    type: condition
    task:
      id: cb7cb2bc-55e4-4e86-80b6-da4ba1b2e01e
      version: -1
      name: Check pull request comment list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "47"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.PullRequestComment.pullrequest.id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 7360
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "45":
    id: "45"
    taskid: 7d819b99-67f6-40f3-8b2f-3106b6e94871
    type: regular
    task:
      id: 7d819b99-67f6-40f3-8b2f-3106b6e94871
      version: -1
      name: change the issue type to resolved
      description: Updates an issue in Bitbucket. In order to perform this command,
        please create an issue tracker by clicking on the relevant repo -> Repository
        settings -> Issue tracker
      script: Bitbucket|||bitbucket-issue-update
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "46"
    scriptarguments:
      issue_id:
        simple: ${Bitbucket.Issue.id}
      state:
        simple: resolved
      title:
        simple: ${Bitbucket.Issue.title}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3140
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "46":
    id: "46"
    taskid: 5202f5bf-a183-4218-8897-fb3cbcb2821e
    type: condition
    task:
      id: 5202f5bf-a183-4218-8897-fb3cbcb2821e
      version: -1
      name: Check that the new issue is resolved
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "36"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: Bitbucket.Issue.state
            iscontext: true
          right:
            value:
              simple: resolved
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 450,
          "y": 3305
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "47":
    id: "47"
    taskid: 8819bd10-e9df-4b14-84e0-eb3e4705b669
    type: regular
    task:
      id: 8819bd10-e9df-4b14-84e0-eb3e4705b669
      version: -1
      name: Test pull request comment delete command
      description: deletes a comment in a specific pull request.
      script: Bitbucket|||bitbucket-pull-request-comment-delete
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      comment_id:
        simple: ${Bitbucket.PullRequestComment.id}
      pull_request_id:
        simple: ${Bitbucket.PullRequestComment.pullrequest.id}
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 7540
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "48":
    id: "48"
    taskid: a06041fb-4360-4f47-8df7-1f209d266a7a
    type: regular
    task:
      id: a06041fb-4360-4f47-8df7-1f209d266a7a
      version: -1
      name: Test workspace member list command
      description: returns a list of all the members in the workspace.
      script: Bitbucket|||bitbucket-workspace-member-list
      type: regular
      iscommand: true
      brand: Bitbucket
    nexttasks:
      '#none#':
      - "49"
    scriptarguments:
      limit:
        simple: "30"
    separatecontext: false
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 8110
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "49":
    id: "49"
    taskid: 8ef37fca-248c-4ec6-8d6e-9e2470b4eff2
    type: condition
    task:
      id: 8ef37fca-248c-4ec6-8d6e-9e2470b4eff2
      version: -1
      name: Check workspace member list output
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "3"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: Bitbucket.WorkspaceMember.user.account_id
            iscontext: true
    continueonerrortype: ""
    view: |-
      {
        "position": {
          "x": 460,
          "y": 8290
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 8585,
        "width": 390,
        "x": 450,
        "y": 30
      }
    }
  }
inputs: []
outputs: []
quiet: true
