id: OpsGenieV3TestPlaybook
version: -1
vcShouldKeepItemLegacyProdMachine: false
name: OpsGenieV3
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 354fc9c3-715e-41ef-8458-5183990bb553
    type: start
    task:
      id: 354fc9c3-715e-41ef-8458-5183990bb553
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "1":
    id: "1"
    taskid: cbcf7589-b7fb-44fd-88f5-f5cf70758082
    type: regular
    task:
      id: cbcf7589-b7fb-44fd-88f5-f5cf70758082
      version: -1
      name: DeleteContext
      script: DeleteContext
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "2"
    scriptarguments:
      all:
        simple: "yes"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "2":
    id: "2"
    taskid: c81cce2b-4c87-4974-8a6b-17a81cb46b15
    type: regular
    task:
      id: c81cce2b-4c87-4974-8a6b-17a81cb46b15
      version: -1
      name: opsgenie-create-alert
      script: OpsGenieV3|||opsgenie-create-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "3"
    scriptarguments:
      interval_in_seconds:
        simple: "5"
      message:
        simple: test_playbook
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "3":
    id: "3"
    taskid: 5e868eed-0de4-40b2-89b0-1cb0c99ab470
    type: condition
    task:
      id: 5e868eed-0de4-40b2-89b0-1cb0c99ab470
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "52"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.integrationId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.status
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.success
            iscontext: true
    - label: Pre polling
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.requestId
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 545
        }
      }
    note: false
    timertriggers:
    - fieldname: timetoassignment
      action: start
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "4":
    id: "4"
    taskid: 19105bbf-1194-455b-87dc-f69b378db47e
    type: regular
    task:
      id: 19105bbf-1194-455b-87dc-f69b378db47e
      version: -1
      name: opsgenie-get-alerts
      script: OpsGenieV3|||opsgenie-get-alerts
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "5"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "5":
    id: "5"
    taskid: 855699d7-e329-46b7-872f-b83fc04453b9
    type: condition
    task:
      id: 855699d7-e329-46b7-872f-b83fc04453b9
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "18"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.acknowledged
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.count
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.createdAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.integration.id
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.isSeen
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.lastOccurredAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.message
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.owner
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.ownerTeamId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.priority
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.seen
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Alert.snoozed
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.source
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.status
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.tinyId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Alert.updatedAt
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "6":
    id: "6"
    taskid: 45588b09-0309-4261-89da-0cb4f0c404d4
    type: regular
    task:
      id: 45588b09-0309-4261-89da-0cb4f0c404d4
      version: -1
      name: opsgenie-delete-alert
      script: OpsGenieV3|||opsgenie-delete-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "7"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3345
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "7":
    id: "7"
    taskid: 43f5b593-10f0-4c46-8ea3-568accd83d91
    type: condition
    task:
      id: 43f5b593-10f0-4c46-8ea3-568accd83d91
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "32"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.DeletedAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedAlert.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.DeletedAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3520
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "8":
    id: "8"
    taskid: 9f966290-12c7-42da-845c-96b408a8e1d3
    type: regular
    task:
      id: 9f966290-12c7-42da-845c-96b408a8e1d3
      version: -1
      name: opsgenie-ack-alert
      script: OpsGenieV3|||opsgenie-ack-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "9"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "9":
    id: "9"
    taskid: 513dfbd0-0a9e-4d7b-83e5-f985b6494b4a
    type: condition
    task:
      id: 513dfbd0-0a9e-4d7b-83e5-f985b6494b4a
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "14"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.integrationId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.status
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AckedAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "10":
    id: "10"
    taskid: 6c013462-0572-44fc-8f14-664eb953778d
    type: regular
    task:
      id: 6c013462-0572-44fc-8f14-664eb953778d
      version: -1
      name: opsgenie-close-alert
      script: OpsGenieV3|||opsgenie-close-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "11"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "11":
    id: "11"
    taskid: 01efdada-9431-4f5b-87c2-83b06f90a689
    type: condition
    task:
      id: 01efdada-9431-4f5b-87c2-83b06f90a689
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "6"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ClosedAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedAlert.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ClosedAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "14":
    id: "14"
    taskid: f3f6445f-25bf-4252-8e80-8e767b117205
    type: regular
    task:
      id: f3f6445f-25bf-4252-8e80-8e767b117205
      version: -1
      name: opsgenie-add-responder-alert
      script: OpsGenieV3|||opsgenie-add-responder-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "15"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
      responders:
        simple: team,id,fbbc3f9a-12f4-4794-9938-7e0a85a06f8b
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "15":
    id: "15"
    taskid: b7b4381a-ffb0-4df9-8e00-cb7f9b30d63d
    type: condition
    task:
      id: b7b4381a-ffb0-4df9-8e00-cb7f9b30d63d
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "4"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: OpsGenie.AddResponderAlert.action
            iscontext: true
          right:
            value:
              simple: Add Responder
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderAlert.integrationId
            iscontext: true
      - - operator: isTrue
          left:
            value:
              simple: OpsGenie.AddResponderAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderAlert.status
            iscontext: true
      - - operator: isTrue
          left:
            value:
              simple: OpsGenie.AddResponderAlert.success
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: OpsGenie.AddResponderAlert.alertId
            iscontext: true
          right:
            value:
              simple: OpsGenie.Alert.alertId
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "18":
    id: "18"
    taskid: fc0c2690-b795-4c73-8eba-1efe3ab634c6
    type: regular
    task:
      id: fc0c2690-b795-4c73-8eba-1efe3ab634c6
      version: -1
      name: opsgenie-escalate-alert
      script: OpsGenieV3|||opsgenie-escalate-alert
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "19"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
      escalation_name:
        simple: Integration Team_escalation
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "19":
    id: "19"
    taskid: f8f816e4-8f26-4f67-84cb-ab99d8c69fd9
    type: condition
    task:
      id: f8f816e4-8f26-4f67-84cb-ab99d8c69fd9
      version: -1
      name: Verify Outputs
      description: Verifies that a given object includes all the given fields.
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "20"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: OpsGenie.EscalateAlert.action
            iscontext: true
          right:
            value:
              simple: Escalate
      - - operator: isTrue
          left:
            value:
              simple: OpsGenie.EscalateAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "20":
    id: "20"
    taskid: 633097dd-9bff-42c2-8f9b-d360200d46ad
    type: regular
    task:
      id: 633097dd-9bff-42c2-8f9b-d360200d46ad
      version: -1
      name: opsgenie-add-alert-tag
      script: OpsGenieV3|||opsgenie-add-alert-tag
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "21"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
      tags:
        simple: 1,2,3
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "21":
    id: "21"
    taskid: dcbbc0eb-e6a1-469f-82c3-ba2a354921eb
    type: condition
    task:
      id: dcbbc0eb-e6a1-469f-82c3-ba2a354921eb
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "22"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.AddTagAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagAlert.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.AddTagAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "22":
    id: "22"
    taskid: 26ae5016-885d-4493-8d60-466d20800c2e
    type: regular
    task:
      id: 26ae5016-885d-4493-8d60-466d20800c2e
      version: -1
      name: opsgenie-remove-alert-tag
      script: OpsGenieV3|||opsgenie-remove-alert-tag
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      alert-id:
        simple: ${OpsGenie.Alert.alertId}
      tags:
        simple: "1"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2645
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "23":
    id: "23"
    taskid: 5ae90aa7-67c6-4ce7-898c-fe0afca50793
    type: condition
    task:
      id: 5ae90aa7-67c6-4ce7-898c-fe0afca50793
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "10"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.alertId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.alias
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.RemoveTagAlert.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "32":
    id: "32"
    taskid: c6b987c6-26b5-412e-8ae4-de9803ffa438
    type: regular
    task:
      id: c6b987c6-26b5-412e-8ae4-de9803ffa438
      version: -1
      name: opsgenie-create-incident
      script: OpsGenieV3|||opsgenie-create-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "33"
    scriptarguments:
      message:
        simple: ${OpsGenie.Alert.alertId}
    continueonerror: true
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3695
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "33":
    id: "33"
    taskid: f89ccba0-5cf0-45a1-896a-302f990a53a9
    type: condition
    task:
      id: f89ccba0-5cf0-45a1-896a-302f990a53a9
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      error:
      - "51"
      "yes":
      - "43"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.incidentId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Incident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Incident.success
            iscontext: true
    - label: error
      condition:
      - - operator: isEqualString
          left:
            value:
              simple: incident.runStatus
            iscontext: true
          right:
            value:
              simple: error
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3870
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "34":
    id: "34"
    taskid: 85ee248a-b879-4b47-8468-c7cc0fa319ff
    type: regular
    task:
      id: 85ee248a-b879-4b47-8468-c7cc0fa319ff
      version: -1
      name: opsgenie-delete-incident
      script: OpsGenieV3|||opsgenie-delete-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "35"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 6145
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "35":
    id: "35"
    taskid: c62c62e6-a2d8-452a-88c5-f7c975f2fdca
    type: condition
    task:
      id: c62c62e6-a2d8-452a-88c5-f7c975f2fdca
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "51"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedIncident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.DeletedIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.DeletedIncident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.DeletedIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 6320
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "37":
    id: "37"
    taskid: 642f4996-2bb0-42ab-841b-777e75afeb17
    type: regular
    task:
      id: 642f4996-2bb0-42ab-841b-777e75afeb17
      version: -1
      name: opsgenie-get-incidents
      script: OpsGenieV3|||opsgenie-get-incidents
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "38"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5095
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "38":
    id: "38"
    taskid: da36b2f6-703d-4a72-88c6-637c27e0982a
    type: condition
    task:
      id: da36b2f6-703d-4a72-88c6-637c27e0982a
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "41"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.createdAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.id
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.message
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.Incident.ownerTeam
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.priority
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.status
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.tinyId
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.Incident.updatedAt
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5270
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "39":
    id: "39"
    taskid: 3ec9a40c-d3b5-4a77-8b40-37fb6a977e85
    type: regular
    task:
      id: 3ec9a40c-d3b5-4a77-8b40-37fb6a977e85
      version: -1
      name: opsgenie-close-incident
      script: OpsGenieV3|||opsgenie-close-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "40"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5795
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "40":
    id: "40"
    taskid: c203cc60-5d4f-4209-8654-a557f855fd61
    type: condition
    task:
      id: c203cc60-5d4f-4209-8654-a557f855fd61
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "34"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedIncident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ClosedIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ClosedIncident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ClosedIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5970
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "41":
    id: "41"
    taskid: 066316b3-66ef-4a35-8e62-b7a741cdb462
    type: regular
    task:
      id: 066316b3-66ef-4a35-8e62-b7a741cdb462
      version: -1
      name: opsgenie-resolve-incident
      script: OpsGenieV3|||opsgenie-resolve-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "42"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5445
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "42":
    id: "42"
    taskid: 31401525-a74b-421c-8274-066b07cd20c7
    type: condition
    task:
      id: 31401525-a74b-421c-8274-066b07cd20c7
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "39"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ResolvedIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ResolvedIncident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ResolvedIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ResolvedIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.ResolvedIncident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.ResolvedIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5620
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "43":
    id: "43"
    taskid: 2cc92cf4-b463-4991-86cc-67ad536a6dfc
    type: regular
    task:
      id: 2cc92cf4-b463-4991-86cc-67ad536a6dfc
      version: -1
      name: opsgenie-add-responder-incident
      script: OpsGenieV3|||opsgenie-add-responder-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "44"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
      responders:
        simple: team,name,Integration Team
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4045
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "44":
    id: "44"
    taskid: e04d01c5-7be2-4af1-8b29-c4873fe6722a
    type: condition
    task:
      id: e04d01c5-7be2-4af1-8b29-c4873fe6722a
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "45"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderIncident.integrationId
            iscontext: true
      - - operator: isTrue
          left:
            value:
              simple: OpsGenie.AddResponderIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddResponderIncident.status
            iscontext: true
      - - operator: isTrue
          left:
            value:
              simple: OpsGenie.AddResponderIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "45":
    id: "45"
    taskid: b29488ae-f65c-4891-8e3e-39b15798da17
    type: regular
    task:
      id: b29488ae-f65c-4891-8e3e-39b15798da17
      version: -1
      name: opsgenie-add-tag-incident
      script: OpsGenieV3|||opsgenie-add-tag-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "46"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
      tags:
        simple: 1,2,3
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4395
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "46":
    id: "46"
    taskid: 6b9a6268-9cff-4638-81f2-39a3436f3be4
    type: condition
    task:
      id: 6b9a6268-9cff-4638-81f2-39a3436f3be4
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "47"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagIncident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.AddTagIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.AddTagIncident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.AddTagIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4570
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "47":
    id: "47"
    taskid: a52dbbb4-80b9-4bf8-8afe-588edd621647
    type: regular
    task:
      id: a52dbbb4-80b9-4bf8-8afe-588edd621647
      version: -1
      name: opsgenie-remove-tag-incident
      script: OpsGenieV3|||opsgenie-remove-tag-incident
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "48"
    scriptarguments:
      incident_id:
        simple: ${OpsGenie.Incident.incidentId}
      tags:
        simple: "1"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4745
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "48":
    id: "48"
    taskid: bf418e43-b7fe-4b54-8e28-75c13efe54df
    type: condition
    task:
      id: bf418e43-b7fe-4b54-8e28-75c13efe54df
      version: -1
      name: Verify Outputs
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      "yes":
      - "37"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.action
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.integrationId
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.isSuccess
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.processedAt
            iscontext: true
      - - operator: isNotEmpty
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.status
            iscontext: true
      - - operator: isExists
          left:
            value:
              simple: OpsGenie.RemoveTagIncident.success
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 4920
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "51":
    id: "51"
    taskid: 0705436a-fa11-424d-8876-cd8f6f14d3d0
    type: title
    task:
      id: 0705436a-fa11-424d-8876-cd8f6f14d3d0
      version: -1
      name: Test Done
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 6495
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  "52":
    id: "52"
    taskid: 110c6fef-4b64-4d31-8246-417b8362c78d
    type: regular
    task:
      id: 110c6fef-4b64-4d31-8246-417b8362c78d
      version: -1
      name: opsgenie-get-teams
      description: Get teams
      script: OpsGenieV3|||opsgenie-get-teams
      type: regular
      iscommand: true
      brand: OpsGenieV3
    nexttasks:
      '#none#':
      - "8"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 6510,
        "width": 380,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
fromversion: 6.2.0