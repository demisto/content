category: Case Management
commonfields:
  id: OpsGenieV3
  version: -1
configuration:
- defaultvalue: https://api.opsgenie.com
  display: Server URL (e.g., https://api.opsgenie.com)
  name: url
  required: true
  type: 0
- displaypassword: API Token
  name: credentials
  type: 9
  required: true
  hiddenusername: true
- display: Fetch incidents
  name: isFetch
  required: false
  type: 8
- defaultvalue: 3 days
  display: First fetch timestamp (<number> <time unit>, e.g., 12 hours, 7 days)
  name: first_fetch
  required: false
  type: 0
- defaultvalue: '20'
  name: max_fetch
  display: Max Fetch
  required: false
  type: 0
- additionalinfo: Fetch only events with selected event types.
  defaultvalue: All
  display: Event types
  name: event_types
  options:
  - All
  - Alerts
  - Incidents
  required: false
  type: 16
- display: Status
  name: status
  additionalinfo: Fetch only events with selected status. If query is used, this parameter
    will be overridden.
  defaultvalue: Open
  required: false
  options:
  - All
  - Open
  - Closed
  type: 15
- display: Priority
  additionalinfo: Fetch only events with selected priority. If query is used, this
    parameter will be overridden.
  name: priority
  defaultvalue: All
  required: false
  options:
  - All
  - P1
  - P2
  - P3
  - P4
  - P5
  type: 16
- display: Tags
  additionalinfo: Fetch only events with selected tags. If query is used, this parameter
    will be overridden.
  name: tags
  required: false
  type: 0
- display: Query
  additionalinfo: Query parameters will be used as URL encoded values for “query”
    key. i.e. 'https://api.opsgenie.com/v2/alerts?query=status%3Aopenor%20acknowledged%3Atrue&limit=10&sort=createdAt'
  name: query
  required: false
  type: 0
- display: Incident type
  name: incidentType
  required: false
  type: 13
- display: Trust any certificate (not secure)
  name: insecure
  required: false
  type: 8
- display: Use system proxy settings
  name: proxy
  required: false
  type: 8
description:  Integration with Atlassian OpsGenie. OpsGenie is a cloud-based service 
  that enables operations teams to manage alerts generated by monitoring tools to ensure the right people are notified, and the problems are addressed in a timely manner.  
display: OpsGenie v3
name: OpsGenieV3
script:
  commands:
  - arguments:
    - default: false
      description: Alert message.
      isArray: false
      name: message
      required: true
      secret: false
    - default: false
      description: Client-defined identifier of the alert
      isArray: false
      name: alias
      required: false
      secret: false
    - default: false
      description: Description field of the alert that is generally used to provide
        detailed information about the alert.
      isArray: false
      name: description
      required: false
      secret: false
    - default: false
      description: "Teams/users to whom the alert is routed via notifications.\n You\
        \ need to insert it as List of triples - responder_type,value_type,value.\n\
        \ The responder_type can be: team, user, escalation or schedule.\n The value_type\
        \ can be: id or name.\n You can retrieve the value from the output of the following commands\
        \ '!opsgenie-get-teams', '!opsgenie-get-schedules' or '!opsgenie-get-escalations'.\n\
        \ For example: schedule,name,test_schedule,user,id,123,team,name,test_team."
      isArray: true
      name: responders
      required: false
      secret: false
    - default: false
      description: Comma-separated list of tags to add.
      isArray: true
      name: tags
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Incident priority. 
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      required: false
      secret: false
      defaultValue: P3
    - default: false
      description: Display name of the request source. Defaults to IP address of the request
        sender.
      isArray: false
      name: source
      required: false
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    description: Create an alert in Opsgenie.
    deprecated: false
    name: opsgenie-create-alert
    outputs:
    - contextPath: OpsGenie.Alert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Alert.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Alert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Alert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Alert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Alert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the alert from Opsgenie.
      isArray: false
      name: alert-id
      required: false
      secret: false
    - default: false
      description: "Name of the field that the result set will be sorted by.\n The options\
        \ are: createdAt, updatedAt, tinyId, alias, message, status, acknowledged,\
        \ isSeen snoozed, snoozedUntil, count, lastOccurredAt, source, owner, integration.name,\
        \ integration.type, report.ackTime, report.closeTime, report.acknowledgedBy,\
        \ report.closedBy"
      isArray: false
      name: sort
      required: false
      secret: false
    - default: false
      description: Maximum results to return.
      isArray: false
      name: limit
      required: false
      secret: false
      defaultValue: '20'
    - default: false
      description: Start index of the result set (to apply pagination). Minimum value
        is 0.
      isArray: false
      name: offset
      required: false
      secret: false
      defaultValue: '0'
    - auto: PREDEFINED
      default: false
      description: The status of the alert from Opsgenie.
      isArray: false
      name: status
      required: false
      secret: false
      predefined:
      - Open
      - Closed
    - auto: PREDEFINED
      default: false
      description: The priority of the alert from Opsgenie.
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      required: false
      secret: false
      defaultValue: P3
    - default: false
      description: Comma-separated list of tags.
      isArray: true
      name: tags
      required: false
      secret: false
    - default: false
      description: URL encoded query parameters.
      isArray: false
      name: query
      required: false
      secret: false
    - name: request_id
      description: ID of the polling request. No need to enter a value.
      required: false
    - name: paging
      description: The next URL to request. No need to enter a value.
      required: false
    - name: result
      description: Result of the previous command. No need to enter a value.
      isArray: true
      required: false
    deprecated: false
    description: List the current alerts from OpsGenie.
    execution: false
    name: opsgenie-get-alerts
    polling: true
    outputs:
    - contextPath: OpsGenie.Alert.acknowledged
      description: Whether the alert was acknowledge.
      type: Boolean
    - contextPath: OpsGenie.Alert.alias
      description: Alert alias.
      type: String
    - contextPath: OpsGenie.Alert.count
      description: Number of alert occurrences.
      type: Number
    - contextPath: OpsGenie.Alert.createdAt
      description: Time the alert was created.
      type: Date
    - contextPath: OpsGenie.Alert.id
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Alert.integration.id
      description: ID of the integration.
      type: String
    - contextPath: OpsGenie.Alert.integration.name
      description: Integration name.
      type: String
    - contextPath: OpsGenie.Alert.integration.type
      description: Type of the integration.
      type: String
    - contextPath: OpsGenie.Alert.isSeen
      description: Whether the alert was seen.
      type: Boolean
    - contextPath: OpsGenie.Alert.lastOccurredAt
      description: Time the alert last occurred.
      type: Date
    - contextPath: OpsGenie.Alert.message
      description: Alert message.
      type: String
    - contextPath: OpsGenie.Alert.owner
      description: Owner of the alert.
      type: String
    - contextPath: OpsGenie.Alert.ownerTeamId
      description: Team ID of the owner.
      type: String
    - contextPath: OpsGenie.Alert.priority
      description: Alert priority.
      type: String
    - contextPath: OpsGenie.Alert.responders.id
      description: ID of the responders.
      type: String
    - contextPath: OpsGenie.Alert.responders.type
      description: Type of the responders.
      type: String
    - contextPath: OpsGenie.Alert.seen
      description: Whether the alert was seen.
      type: Boolean
    - contextPath: OpsGenie.Alert.snoozed
      description: Whether alert was snoozed.
      type: Boolean
    - contextPath: OpsGenie.Alert.source
      description: Source of the alert.
      type: String
    - contextPath: OpsGenie.Alert.status
      description: Status of the alert.
      type: String
    - contextPath: OpsGenie.Alert.teams.id
      description: ID of the teams associated with the alert.
      type: String
    - contextPath: OpsGenie.Alert.tinyId
      description: Short ID for the alert.
      type: String
    - contextPath: OpsGenie.Alert.updatedAt
      description: Last time the alert was updated.
      type: Date
    - contextPath: OpsGenie.Alert.report.ackTime
      description: Time the alert was acknowledged.
      type: Number
    - contextPath: OpsGenie.Alert.report.acknowledgedBy
      description: User who acknowledged the alert.
      type: String
    - contextPath: OpsGenie.Alert.report.closeTime
      description: Time the alert was closed.
      type: Number
    - contextPath: OpsGenie.Alert.report.closedBy
      description: User who closed the alert.
      type: String
  - arguments:
    - default: false
      description: The ID of the alert from Opsgenie.
      isArray: false
      name: alert-id
      required: true
      secret: false
    deprecated: false
    description: Delete an alert from OpsGenie.
    execution: false
    name: opsgenie-delete-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.DeletedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.alertId
      description: ID of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.alias
      description: Alias of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.integrationId
      description: Integration of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.DeletedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.DeletedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.success
      description: Whether the request was successful.
      type: Boolean
  - arguments:
    - default: false
      description: The ID of the alert from Opsgenie.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Acknowledge an alert in OpsGenie.
    execution: false
    name: opsgenie-ack-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AckedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AckedAlert.alertId
      description: ID of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.alias
      description: Alias of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.integrationId
      description: Integration of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AckedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AckedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AckedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AckedAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the alert from Opsgenie.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Close an alert in OpsGenie.
    execution: false
    name: opsgenie-close-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.ClosedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.alertId
      description: ID of the closed alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.alias
      description: Alias of the closed alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.integrationId
      description: Integration ID of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ClosedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ClosedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: ID of the user to whom the alert will be assigned. Not required if
        owner_username is present.
      isArray: false
      name: owner_id
      required: false
      secret: false
    - default: false
      description: Display name of the request owner. Not required if owner_id is
        present.
      isArray: false
      name: owner_username
      required: false
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Assign an OpsGenie alert.
    execution: false
    name: opsgenie-assign-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AssignAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AssignAlert.alertId
      description: ID of assigned Alert
      type: String
    - contextPath: OpsGenie.AssignAlert.alias
      description: Alias of the assigned alert.
      type: String
    - contextPath: OpsGenie.AssignAlert.integrationId
      description: Integration ID of the assigned alert.
      type: String
    - contextPath: OpsGenie.AssignAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AssignAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AssignAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AssignAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AssignAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: Type of the identifier.
      isArray: false
      name: identifierType
      required: false
      secret: false
      predefined:
      - id
      - tiny
      - alias
    - default: false
      description: "Team/user to whom the alert is routed via notifications.\n For\
        \ now, it can be inserted only one responder at a time.\n You need to insert\
        \ it as List of triple - responder_type,value_type,value.\n The responder_type\
        \ can be: team or user.\n The value_type can be: id or name.\n You can retrieve the value from the output of the following '!opsgenie-get-teams' command.\n For example:\
        \ user,id,123 Another example: team,name,test_team."
      isArray: true
      name: responders
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Add a responder to an OpsGenie alert.
    execution: false
    name: opsgenie-add-responder-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AddResponderAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddResponderAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddResponderAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the escalation.
      isArray: false
      name: escalation_id
      required: false
      secret: false
    - default: false
      description: Name of the escalation.
      isArray: false
      name: escalation_name
      required: false
      secret: false
    description: Get escalations from OpsGenie.
    name: opsgenie-get-escalations
    outputs:
    - contextPath: OpsGenie.Escalation.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Escalation.Id
      description: ID of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.name
      description: Name of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.description
      description: Description of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.ownerTeam
      description: Owner team of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.rules
      description: Rules of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.integrationId
      description: Integration ID of the escalated alert.
      type: String
    - contextPath: OpsGenie.Escalation.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Escalation.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Escalation.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Escalation.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Escalation.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Name of the escalation to which the alert will be escalated. Provide either the ID or name
        of the escalation.
      isArray: false
      name: escalation_name
      required: false
      secret: false
    - default: false
      description: ID of the escalation to which the alert will be escalated. Provide either the ID or name of the 
        escalation.
      isArray: false
      name: escalation_id
      required: false
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Escalate an OpsGenie alert.
    execution: false
    name: opsgenie-escalate-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.EscalateAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.EscalateAlert.id
      description: ID of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.name
      description: Name of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.description
      description: Description of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.integrationId
      description: Integration ID of the escalated alert.
      type: String
    - contextPath: OpsGenie.EscalateAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.EscalateAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.EscalateAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.EscalateAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.EscalateAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Comma-separated list of tags to add to the alert.
      isArray: true
      name: tags
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Add tag to the OpsGenie alert.
    execution: false
    name: opsgenie-add-alert-tag
    polling: true
    outputs:
    - contextPath: OpsGenie.AddTagAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.alertId
      description: ID of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.alias
      description: Alias of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.integrationId
      description: Integration ID of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddTagAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddTagAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Comma-separated list of tags to remove from the alert.
      isArray: true
      name: tags
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Remove a tag from the OpsGenie alert.
    execution: false
    name: opsgenie-remove-alert-tag
    polling: true
    outputs:
    - contextPath: OpsGenie.RemoveTagAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.alertId
      description: ID of the tag removed from the alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.alias
      description: Alias of the removed tag alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.integrationId
      description: Integration ID of the removed tag alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.RemoveTagAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.RemoveTagAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the Opsgenie alert.
      isArray: false
      name: alert-id
      required: true
      secret: false
    - default: false
      description: Identifier of the attachment.
      isArray: false
      name: attachment_id
      required: false
      secret: false
    description: Get the attachments of the alert.
    name: opsgenie-get-alert-attachments
    outputs:
    - contextPath: OpsGenie.Alert.Attachment.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.alertId
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.alias
      description: Alias of the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.integrationId
      description: Integration ID the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Alert.Attachment.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Alert.Attachment.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: ID of the schedule.
      isArray: false
      name: schedule_id
      required: false
      secret: false
    - default: false
      description: Name of the schedule.
      isArray: false
      name: schedule_name
      required: false
      secret: false
    description: Get a schedule from OpsGenie.
    name: opsgenie-get-schedules
    outputs:
    - contextPath: OpsGenie.Schedule.description
      description: Description of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.enabled
      description: Whether the schedule was enabled.
      type: Boolean
    - contextPath: OpsGenie.Schedule.id
      description: ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.name
      description: Name of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.ownerTeam.id
      description: ID of the schedule owner.
      type: String
    - contextPath: OpsGenie.Schedule.ownerTeam.name
      description: Name of the schedule owner.
      type: String
    - contextPath: OpsGenie.Schedule.timezone
      description: Timezone of the schedule.
      type: String

  - arguments:
    - default: false
      description: ID of the schedule.
      isArray: false
      name: schedule_id
      required: false
      secret: false
    - default: false
      description: Name of the schedule.
      isArray: false
      name: schedule_name
      required: false
      secret: false
    - default: false
      description: Alias of the schedule override.
      isArray: false
      name: override_alias
      required: false
      secret: false
    description: Get schedule overrides.
    name: opsgenie-get-schedule-overrides
    outputs:
    - contextPath: OpsGenie.Schedule.Override.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.alertId
      description: ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.alias
      description: Alias of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.integrationId
      description: Integration ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Schedule.Override.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Schedule.Override.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: Schedule ID from which to return on-call users.
      isArray: false
      name: schedule_id
      required: false
      secret: false
    - default: false
      description: Name of the schedule from which to return on-call users.
      isArray: false
      name: schedule_name
      required: false
      secret: false
    - default: false
      description: Start date of the timeline in the following format
        (yyyy-MM-dd'T'HH:mm:ssZ)
      isArray: false
      name: starting_date
      required: false
      secret: false
    deprecated: false
    description: Get the on-call users for the provided schedule.
    execution: false
    name: opsgenie-get-on-call
    outputs:
    - contextPath: OpsGenie.Schedule.OnCall._parent.enabled
      description: Whether this on-call schedule is enabled.
      type: Boolean
    - contextPath: OpsGenie.Schedule.OnCall._parent.id
      description: ID Of the parent on-call schedule.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall._parent.name
      description: Name of parent on-call schedule.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.id
      description: ID of the on-call participant.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.name
      description: Name of the on-call participant.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.type
      description: Type of the on-call participant.
      type: String
  - arguments:
    - default: false
      description: Interval in seconds between each poll.
      isArray: false
      name: interval_in_seconds
      required: false
      secret: false
      defaultValue: '5'
    - default: false
      description: Incident message.
      isArray: false
      name: message
      required: true
      secret: false
    - default: false
      description: Detailed information about the incident.
      isArray: false
      name: description
      required: false
      secret: false
    - default: false
      description: "Teams/users to whom the incident is routed via notifications.\n\
        \ You need to insert it as List of triples - responder_type,value_type,value.\n\
        \ The responder_type can be: team or user.\n The value_type can be: id or\
        \ name.\n You can retrieve the value from the output of the '!opsgenie-get-teams' command.\n\
        \ For example: user,id,123,team,name,test_team."
      isArray: true
      name: responders
      required: false
      secret: false
    - default: false
      description: Comma-separated list of tags to add.
      isArray: true
      name: tags
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Incident Priority. 
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      required: false
      secret: false
      defaultValue: P3
    description: Create an incident in Opsgenie.
    deprecated: false
    name: opsgenie-create-incident
    outputs:
    - contextPath: OpsGenie.Incident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Incident.incidentId
      description: ID of the created incident.
      type: String
    - contextPath: OpsGenie.Incident.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Incident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Incident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Incident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Incident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Incident.success
      description: Whether the request was successful.
      type: Boolean
  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    deprecated: false
    description: Delete an incident from OpsGenie.
    execution: false
    name: opsgenie-delete-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.DeletedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.incidentId
      description: ID of the deleted incident.
      type: String
    - contextPath: OpsGenie.DeletedIncident.integrationId
      description: Integration ID of the deleted incident.
      type: String
    - contextPath: OpsGenie.DeletedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.DeletedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.DeletedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: false
      secret: false
    - default: false
      description: Maximum number of results to return.
      isArray: false
      name: limit
      required: false
      secret: false
      defaultValue: '20'
    - default: false
      description: Start index of the result set (to apply pagination). Minimum value
        is 0.
      isArray: false
      name: offset
      required: false
      secret: false
      defaultValue: '0'
    - auto: PREDEFINED
      default: false
      description: The status of the alert from Opsgenie.
      isArray: false
      name: status
      required: false
      secret: false
      predefined:
      - Open
      - Closed
    - auto: PREDEFINED
      default: false
      description: Incident Priority. 
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      required: false
      secret: false
      defaultValue: P3
    - default: false
      description: Comma-separated list of tags to add.
      isArray: true
      name: tags
      required: false
      secret: false
    - default: false
      description: URL encoded query parameters.
      isArray: false
      name: query
      required: false
      secret: false
    - name: request_id
      description: ID of the polling request. No need to enter a value.
      required: false
    - name: paging
      description: The next URL to request. No need to enter a value.
      required: false
    - name: result
      description: Result of the previous command. No need to enter a value.
      isArray: true
      required: false
    deprecated: false
    description: List the current incidents from OpsGenie.
    execution: false
    name: opsgenie-get-incidents
    polling: true
    outputs:
    - contextPath: OpsGenie.Incident.count
      description: The number of alert occurrences. 
      type: Number
    - contextPath: OpsGenie.Incident.createdAt
      description: Time the alert was created.
      type: Date
    - contextPath: OpsGenie.Incident.incidentId
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Incident.integration.id
      description: ID of the integration.
      type: String
    - contextPath: OpsGenie.Incident.integration.name
      description: Integration name
      type: String
    - contextPath: OpsGenie.Incident.integration.type
      description: Type of the integration.
      type: String
    - contextPath: OpsGenie.Incident.message
      description: Alert message.
      type: String
    - contextPath: OpsGenie.Incident.ownerTeam
      description: Team ID of the owner.
      type: String
    - contextPath: OpsGenie.Incident.priority
      description: Alert priority.
      type: String
    - contextPath: OpsGenie.Incident.responders.id
      description: ID of the responders.
      type: String
    - contextPath: OpsGenie.Incident.responders.type
      description: Type of the responders.
      type: String
    - contextPath: OpsGenie.Incident.status
      description: Status of the alert.
      type: String
    - contextPath: OpsGenie.Incident.tinyId
      description: Short ID for the alert.
      type: String
    - contextPath: OpsGenie.Incident.updatedAt
      description: Last updated time for the alert.
      type: Date

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    - default: false
      description: Additional incident note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Close an incident from OpsGenie.
    execution: false
    name: opsgenie-close-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.ClosedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.incidentId
      description: ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ClosedIncident.integrationId
      description: Integration ID of the closed incident
      type: String
    - contextPath: OpsGenie.ClosedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ClosedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ClosedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    - default: false
      description: Additional incident note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Resolve an incident from OpsGenie.
    execution: false
    name: opsgenie-resolve-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.ResolvedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.incidentId
      description: ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.integrationId
      description: Integration ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ResolvedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ResolvedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    - default: false
      description: "Teams/users to whom the incident is routed via notifications.\n\
        \ You need to insert it as list of triples - responder_type,value_type,value.\n\
        \ The responder_type can be: team or user.\n The value_type can be: id or\
        \ name.\n You can retrieve the value from the output of the '!opsgenie-get-teams' command.\n\
        \ For example: user,id,123,team,name,test_team."
      isArray: true
      name: responders
      required: true
      secret: false
    - default: false
      description: Additional alert note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Add a responder to an OpsGenie incident.
    execution: false
    name: opsgenie-add-responder-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.AddResponderIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.incidentId
      description: ID of the created incident.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.integrationId
      description: Integration ID of the created incident.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddResponderIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddResponderIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    - default: false
      description: Comma-separated list of tags to add to the incident.
      isArray: true
      name: tags
      required: true
      secret: false
    - default: false
      description: Additional incident note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Add a tag to the OpsGenie incident.
    execution: false
    name: opsgenie-add-tag-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.AddTagIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.incidentId
      description: ID of the added incident.
      type: String
    - contextPath: OpsGenie.AddTagIncident.integrationId
      description: Integration ID of the added incident.
      type: String
    - contextPath: OpsGenie.AddTagIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddTagIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddTagIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the incident from Opsgenie.
      isArray: false
      name: incident_id
      required: true
      secret: false
    - default: false
      description: Comma-separated list of tags to add to the incident.
      isArray: true
      name: tags
      required: true
      secret: false
    - default: false
      description: Additional incident note.
      isArray: false
      name: note
      required: false
      secret: false
    deprecated: false
    description: Remove a tag from the OpsGenie alert.
    execution: false
    name: opsgenie-remove-tag-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.RemoveTagIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.incidentId
      description: Incident ID of the remove tag incident.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.integrationId
      description: Integration ID of the remove tag incident.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.RemoveTagIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.RemoveTagIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - default: false
      description: The ID of the team from Opsgenie.
      isArray: false
      name: team_id
      required: false
      secret: false
    description: Get teams
    name: opsgenie-get-teams
    outputs:
    - contextPath: OpsGenie.Team.description
      description: Team description.
      type: String
    - contextPath: OpsGenie.Team.id
      description: Team ID.
      type: String
    - contextPath: OpsGenie.Team.links.api
      description: Team API links.
      type: String
    - contextPath: OpsGenie.Team.links.web
      description: Team web links.
      type: String
    - contextPath: OpsGenie.Team.name
      description: Team name.
      type: String
  - name: opsgenie-get-request
    polling: true
    description: Get a request in Opsgenie
    deprecated: false
    arguments:
      - name: output_prefix
        deprecated: true
      - name: polled_once
        deprecated: true
        required: false
      - name: request_id
        description: The id of the request to get
        required: true
        isArray: false
      - name: request_type
        description: The type of the request to get
        required: true
        isArray: false
        auto: PREDEFINED
        predefined:
          - alerts
          - incedents
    outputs: []
  dockerimage: demisto/python3:3.9.9.25564
  isfetch: true
  runonce: false
  script: '-'
  type: python
  subtype: python3
fromversion: '6.2.0'
tests:
- OpsGenieV3TestPlaybook
