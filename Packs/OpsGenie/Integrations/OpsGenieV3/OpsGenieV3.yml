category: Case Management
commonfields:
  id: OpsGenieV3
  version: -1
configuration:
- defaultvalue: https://api.opsgenie.com
  display: Server URL (e.g., https://api.opsgenie.com)
  name: url
  required: true
  type: 0
- displaypassword: API Token
  name: credentials
  type: 9
  required: true
  hiddenusername: true
- display: Fetch incidents
  name: isFetch
  required: false
  type: 8
- defaultvalue: 3 days
  display: First fetch timestamp (<number> <time unit>, e.g., 12 hours, 7 days)
  name: first_fetch
  required: false
  type: 0
- defaultvalue: '20'
  name: max_fetch
  display: Max Fetch
  required: false
  type: 0
- additionalinfo: Fetch only events with selected event types.
  defaultvalue: All
  display: Event types
  name: event_types
  options:
  - All
  - Alerts
  - Incidents
  required: false
  type: 16
- display: Status
  name: status
  additionalinfo: Fetch only events with selected status. If query is used, this parameter will be overridden.
  defaultvalue: Open
  required: false
  options:
  - All
  - Open
  - Closed
  type: 15
- display: Priority
  additionalinfo: Fetch only events with selected priority. If query is used, this parameter will be overridden.
  name: priority
  defaultvalue: All
  required: false
  options:
  - All
  - P1
  - P2
  - P3
  - P4
  - P5
  type: 16
- display: Tags
  additionalinfo: Fetch only events with selected tags. If query is used, this parameter will be overridden.
  name: tags
  required: false
  type: 0
- display: Query
  additionalinfo: Query parameters will be used as URL encoded values for “query” key. i.e. 'https://api.opsgenie.com/v2/alerts?query=status%3Aopenor%20acknowledged%3Atrue&limit=10&sort=createdAt'
  name: query
  required: false
  type: 0
- display: Incident type
  name: incidentType
  required: false
  type: 13
- display: Trust any certificate (not secure)
  name: insecure
  required: false
  type: 8
- display: Use system proxy settings
  name: proxy
  required: false
  type: 8
description: Integration with Atlassian OpsGenie. OpsGenie is a cloud-based service that enables operations teams to manage alerts generated by monitoring tools to ensure the right people are notified, and the problems are addressed in a timely manner.
display: OpsGenie v3
name: OpsGenieV3
script:
  commands:
  - arguments:
    - description: Alert message.
      name: message
      required: true
    - description: Client-defined identifier of the alert.
      name: alias
    - description: Description field of the alert that is generally used to provide detailed information about the alert.
      name: description
    - description: "Teams/users to whom the alert is routed via notifications.\n You need to insert it as List of triples - responder_type,value_type,value.\n The responder_type can be: team, user, escalation or schedule.\n The value_type can be: id or name.\n You can retrieve the value from the output of the following commands '!opsgenie-get-teams', '!opsgenie-get-schedules' or '!opsgenie-get-escalations'.\n For example: schedule,name,test_schedule,user,id,123,team,name,test_team."
      isArray: true
      name: responders
    - description: Comma-separated list of tags to add.
      isArray: true
      name: tags
    - auto: PREDEFINED
      description: Incident priority.
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      defaultValue: P3
    - description: Display name of the request source. Defaults to IP address of the request sender.
      name: source
    - description: Additional alert note.
      name: note
    - name: details
      description: Comma-separated key=value pairs to use as custom properties of the alert. JSON format is also supported when used within an automation. Examples; details="account=pa,hostname=computer01".
      type: keyValue
      isArray: true
    description: Create an alert in Opsgenie.
    name: opsgenie-create-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.Alert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Alert.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Alert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Alert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Alert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Alert.success
      description: Whether the request was successful.
      type: Boolean
  - arguments:
    - description: The ID of the alert from Opsgenie.
      name: alert-id
    - description: "Name of the field that the result set will be sorted by.\n The options are: createdAt, updatedAt, tinyId, alias, message, status, acknowledged, isSeen snoozed, snoozedUntil, count, lastOccurredAt, source, owner, integration.name, integration.type, report.ackTime, report.closeTime, report.acknowledgedBy, report.closedBy"
      name: sort
    - description: Maximum results to return.
      name: limit
      defaultValue: '20'
    - description: Start index of the result set (to apply pagination). Minimum value is 0.
      name: offset
      defaultValue: '0'
    - auto: PREDEFINED
      description: The status of the alert from Opsgenie.
      name: status
      predefined:
      - Open
      - Closed
    - auto: PREDEFINED
      description: The priority of the alert from Opsgenie.
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      defaultValue: P3
    - description: Comma-separated list of tags.
      isArray: true
      name: tags
    - description: URL encoded query parameters.
      name: query
    - name: request_id
      description: ID of the polling request. No need to enter a value.
    - name: paging
      description: The next URL to request. No need to enter a value.
    - name: result
      description: Result of the previous command. No need to enter a value.
      isArray: true
    description: List the current alerts from OpsGenie.
    name: opsgenie-get-alerts
    polling: true
    outputs:
    - contextPath: OpsGenie.Alert.acknowledged
      description: Whether the alert was acknowledge.
      type: Boolean
    - contextPath: OpsGenie.Alert.alias
      description: Alert alias.
      type: String
    - contextPath: OpsGenie.Alert.count
      description: Number of alert occurrences.
      type: Number
    - contextPath: OpsGenie.Alert.createdAt
      description: Time the alert was created.
      type: Date
    - contextPath: OpsGenie.Alert.id
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Alert.integration.id
      description: ID of the integration.
      type: String
    - contextPath: OpsGenie.Alert.integration.name
      description: Integration name.
      type: String
    - contextPath: OpsGenie.Alert.integration.type
      description: Type of the integration.
      type: String
    - contextPath: OpsGenie.Alert.isSeen
      description: Whether the alert was seen.
      type: Boolean
    - contextPath: OpsGenie.Alert.lastOccurredAt
      description: Time the alert last occurred.
      type: Date
    - contextPath: OpsGenie.Alert.message
      description: Alert message.
      type: String
    - contextPath: OpsGenie.Alert.owner
      description: Owner of the alert.
      type: String
    - contextPath: OpsGenie.Alert.ownerTeamId
      description: Team ID of the owner.
      type: String
    - contextPath: OpsGenie.Alert.priority
      description: Alert priority.
      type: String
    - contextPath: OpsGenie.Alert.responders.id
      description: ID of the responders.
      type: String
    - contextPath: OpsGenie.Alert.responders.type
      description: Type of the responders.
      type: String
    - contextPath: OpsGenie.Alert.seen
      description: Whether the alert was seen.
      type: Boolean
    - contextPath: OpsGenie.Alert.snoozed
      description: Whether alert was snoozed.
      type: Boolean
    - contextPath: OpsGenie.Alert.source
      description: Source of the alert.
      type: String
    - contextPath: OpsGenie.Alert.status
      description: Status of the alert.
      type: String
    - contextPath: OpsGenie.Alert.teams.id
      description: ID of the teams associated with the alert.
      type: String
    - contextPath: OpsGenie.Alert.tinyId
      description: Short ID for the alert.
      type: String
    - contextPath: OpsGenie.Alert.updatedAt
      description: Last time the alert was updated.
      type: Date
    - contextPath: OpsGenie.Alert.report.ackTime
      description: Time the alert was acknowledged.
      type: Number
    - contextPath: OpsGenie.Alert.report.acknowledgedBy
      description: User who acknowledged the alert.
      type: String
    - contextPath: OpsGenie.Alert.report.closeTime
      description: Time the alert was closed.
      type: Number
    - contextPath: OpsGenie.Alert.report.closedBy
      description: User who closed the alert.
      type: String
  - arguments:
    - description: The ID of the alert from Opsgenie.
      name: alert-id
      required: true
    description: Delete an alert from OpsGenie.
    name: opsgenie-delete-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.DeletedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.alertId
      description: ID of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.alias
      description: Alias of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.integrationId
      description: Integration of the deleted alert.
      type: String
    - contextPath: OpsGenie.DeletedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.DeletedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.DeletedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.DeletedAlert.success
      description: Whether the request was successful.
      type: Boolean
  - arguments:
    - description: The ID of the alert from Opsgenie.
      name: alert-id
      required: true
    - description: Additional alert note.
      name: note
    description: Acknowledge an alert in OpsGenie.
    name: opsgenie-ack-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AckedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AckedAlert.alertId
      description: ID of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.alias
      description: Alias of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.integrationId
      description: Integration of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.AckedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AckedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AckedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AckedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AckedAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the alert from Opsgenie.
      name: alert-id
      required: true
    - description: Additional alert note.
      name: note
    description: Close an alert in OpsGenie.
    name: opsgenie-close-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.ClosedAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.alertId
      description: ID of the closed alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.alias
      description: Alias of the closed alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.integrationId
      description: Integration ID of the acknowledged alert.
      type: String
    - contextPath: OpsGenie.ClosedAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ClosedAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ClosedAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ClosedAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - description: ID of the user to whom the alert will be assigned. Not required if owner_username is present.
      name: owner_id
    - description: Display name of the request owner. Not required if owner_id is present.
      name: owner_username
    - description: Additional alert note.
      name: note
    description: Assign an OpsGenie alert.
    name: opsgenie-assign-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AssignAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AssignAlert.alertId
      description: ID of assigned Alert.
      type: String
    - contextPath: OpsGenie.AssignAlert.alias
      description: Alias of the assigned alert.
      type: String
    - contextPath: OpsGenie.AssignAlert.integrationId
      description: Integration ID of the assigned alert.
      type: String
    - contextPath: OpsGenie.AssignAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AssignAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AssignAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AssignAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AssignAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - auto: PREDEFINED
      description: Type of the identifier.
      name: identifierType
      predefined:
      - id
      - tiny
      - alias
    - description: "Team/user to whom the alert is routed via notifications.\n For now, it can be inserted only one responder at a time.\n You need to insert it as List of triple - responder_type,value_type,value.\n The responder_type can be: team or user.\n The value_type can be: id or name.\n You can retrieve the value from the output of the following '!opsgenie-get-teams' command.\n For example: user,id,123 Another example: team,name,test_team."
      isArray: true
      name: responders
      required: true
    - description: Additional alert note.
      name: note
    description: Add a responder to an OpsGenie alert.
    name: opsgenie-add-responder-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.AddResponderAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddResponderAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddResponderAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddResponderAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the escalation.
      name: escalation_id
    - description: Name of the escalation.
      name: escalation_name
    description: Get escalations from OpsGenie.
    name: opsgenie-get-escalations
    outputs:
    - contextPath: OpsGenie.Escalation.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Escalation.Id
      description: ID of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.name
      description: Name of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.description
      description: Description of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.ownerTeam
      description: Owner team of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.rules
      description: Rules of the escalation.
      type: String
    - contextPath: OpsGenie.Escalation.integrationId
      description: Integration ID of the escalated alert.
      type: String
    - contextPath: OpsGenie.Escalation.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Escalation.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Escalation.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Escalation.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Escalation.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: E-mail address of the user.
      name: username
      required: true
    - description: Name of the user.
      name: fullName
      required: true
    - description: Role of user. It may be one of admin, user or the name of a custom role you've created.
      name: role
      required: true
    description: Invite a user to OpsGenie.
    name: opsgenie-invite-user
    outputs:
    - contextPath: OpsGenie.User.Id
      description: User ID.
      type: String
    - contextPath: OpsGenie.User.name
      description: Username of the user.
      type: String
  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - description: Name of the escalation to which the alert will be escalated. Provide either the ID or name of the escalation.
      name: escalation_name
    - description: ID of the escalation to which the alert will be escalated. Provide either the ID or name of the escalation.
      name: escalation_id
    - description: Additional alert note.
      name: note
    description: Escalate an OpsGenie alert.
    name: opsgenie-escalate-alert
    polling: true
    outputs:
    - contextPath: OpsGenie.EscalateAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.EscalateAlert.id
      description: ID of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.name
      description: Name of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.description
      description: Description of the escalation.
      type: String
    - contextPath: OpsGenie.EscalateAlert.integrationId
      description: Integration ID of the escalated alert.
      type: String
    - contextPath: OpsGenie.EscalateAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.EscalateAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.EscalateAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.EscalateAlert.status
      description: The human readable result of the request.
      type: String

    - contextPath: OpsGenie.EscalateAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - description: Comma-separated list of tags to add to the alert.
      isArray: true
      name: tags
      required: true
    - description: Additional alert note.
      name: note
    description: Add tag to the OpsGenie alert.
    name: opsgenie-add-alert-tag
    polling: true
    outputs:
    - contextPath: OpsGenie.AddTagAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.alertId
      description: ID of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.alias
      description: Alias of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.integrationId
      description: Integration ID of the added alert.
      type: String
    - contextPath: OpsGenie.AddTagAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddTagAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddTagAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddTagAlert.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - description: Comma-separated list of tags to remove from the alert.
      isArray: true
      name: tags
      required: true
    - description: Additional alert note.
      name: note
    description: Remove a tag from the OpsGenie alert.
    name: opsgenie-remove-alert-tag
    outputs:
    - contextPath: OpsGenie.RemoveTagAlert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.alertId
      description: ID of the tag removed from the alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.alias
      description: Alias of the removed tag alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.integrationId
      description: Integration ID of the removed tag alert.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.RemoveTagAlert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.RemoveTagAlert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagAlert.success
      description: Whether the request was successful.
      type: Boolean

    polling: true
  - arguments:
    - description: ID of the Opsgenie alert.
      name: alert-id
      required: true
    - description: Identifier of the attachment.
      name: attachment_id
    description: Get the attachments of the alert.
    name: opsgenie-get-alert-attachments
    outputs:
    - contextPath: OpsGenie.Alert.Attachment.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.alertId
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.alias
      description: Alias of the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.integrationId
      description: Integration ID the alert.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Alert.Attachment.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Alert.Attachment.requestId
      description: The ID of the request.
      type: String

    - contextPath: OpsGenie.Alert.Attachment.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Alert.Attachment.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: ID of the schedule.
      name: schedule_id
    - description: Name of the schedule.
      name: schedule_name
    description: Get a schedule from OpsGenie.
    name: opsgenie-get-schedules
    outputs:
    - contextPath: OpsGenie.Schedule.description
      description: Description of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.enabled
      description: Whether the schedule was enabled.
      type: Boolean
    - contextPath: OpsGenie.Schedule.id
      description: ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.name
      description: Name of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.ownerTeam.id
      description: ID of the schedule owner.
      type: String
    - contextPath: OpsGenie.Schedule.ownerTeam.name
      description: Name of the schedule owner.
      type: String
    - contextPath: OpsGenie.Schedule.timezone
      description: Timezone of the schedule.
      type: String
  - arguments:
    - description: ID of the schedule.
      name: schedule_id
    - description: Name of the schedule.
      name: schedule_name
    - description: Alias of the schedule override.
      name: override_alias
    description: Get schedule overrides.
    name: opsgenie-get-schedule-overrides
    outputs:
    - contextPath: OpsGenie.Schedule.Override.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.alertId
      description: ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.alias
      description: Alias of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.integrationId
      description: Integration ID of the schedule.
      type: String
    - contextPath: OpsGenie.Schedule.Override.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Schedule.Override.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Schedule.Override.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Schedule.Override.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: Schedule ID from which to return on-call users.
      name: schedule_id
    - description: Name of the schedule from which to return on-call users.
      name: schedule_name
    - description: Start date of the timeline in the following format (yyyy-MM-dd'T'HH:mm:ssZ).
      name: starting_date
    description: Get the on-call users for the provided schedule.
    name: opsgenie-get-on-call
    outputs:
    - contextPath: OpsGenie.Schedule.OnCall._parent.enabled
      description: Whether this on-call schedule is enabled.
      type: Boolean
    - contextPath: OpsGenie.Schedule.OnCall._parent.id
      description: ID Of the parent on-call schedule.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall._parent.name
      description: Name of parent on-call schedule.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.id
      description: ID of the on-call participant.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.name
      description: Name of the on-call participant.
      type: String
    - contextPath: OpsGenie.Schedule.OnCall.onCallParticipants.type
      description: Type of the on-call participant.
      type: String
  - arguments:
    - description: Interval in seconds between each poll.
      name: interval_in_seconds
      defaultValue: '5'
    - description: Incident message.
      name: message
      required: true
    - description: Detailed information about the incident.
      name: description
    - description: "Teams/users to whom the incident is routed via notifications.\n You need to insert it as List of triples - responder_type,value_type,value.\n The responder_type can be: team or user.\n The value_type can be: id or name.\n You can retrieve the value from the output of the '!opsgenie-get-teams' command.\n For example: user,id,123,team,name,test_team."
      isArray: true
      name: responders
    - description: Comma-separated list of tags to add.
      isArray: true
      name: tags
    - auto: PREDEFINED
      description: Incident Priority.
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      defaultValue: P3
    description: Create an incident in Opsgenie.
    name: opsgenie-create-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.Incident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Incident.incidentId
      description: ID of the created incident.
      type: String
    - contextPath: OpsGenie.Incident.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Incident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Incident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Incident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Incident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Incident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    description: Delete an incident from OpsGenie.
    name: opsgenie-delete-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.DeletedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.incidentId
      description: ID of the deleted incident.
      type: String
    - contextPath: OpsGenie.DeletedIncident.integrationId
      description: Integration ID of the deleted incident.
      type: String
    - contextPath: OpsGenie.DeletedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.DeletedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.DeletedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.DeletedIncident.success
      description: Whether the request was successful.
      type: Boolean
  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
    - description: Maximum number of results to return.
      name: limit
      defaultValue: '20'
    - description: Start index of the result set (to apply pagination). Minimum value is 0.
      name: offset
      defaultValue: '0'
    - auto: PREDEFINED
      description: The status of the alert from Opsgenie.
      name: status
      predefined:
      - Open
      - Closed
    - auto: PREDEFINED
      description: Incident Priority.
      isArray: true
      name: priority
      predefined:
      - P1
      - P2
      - P3
      - P4
      - P5
      defaultValue: P3
    - description: Comma-separated list of tags to add.
      isArray: true
      name: tags
    - description: URL encoded query parameters.
      name: query
    - name: request_id
      description: ID of the polling request. No need to enter a value.
    - name: paging
      description: The next URL to request. No need to enter a value.
    - name: result
      description: Result of the previous command. No need to enter a value.
      isArray: true
    description: List the current incidents from OpsGenie.
    name: opsgenie-get-incidents
    polling: true
    outputs:
    - contextPath: OpsGenie.Incident.count
      description: The number of alert occurrences.
      type: Number
    - contextPath: OpsGenie.Incident.createdAt
      description: Time the alert was created.
      type: Date
    - contextPath: OpsGenie.Incident.incidentId
      description: ID of the alert.
      type: String
    - contextPath: OpsGenie.Incident.integration.id
      description: ID of the integration.
      type: String
    - contextPath: OpsGenie.Incident.integration.name
      description: Integration name.
      type: String
    - contextPath: OpsGenie.Incident.integration.type
      description: Type of the integration.
      type: String
    - contextPath: OpsGenie.Incident.message
      description: Alert message.
      type: String
    - contextPath: OpsGenie.Incident.ownerTeam
      description: Team ID of the owner.
      type: String

    - contextPath: OpsGenie.Incident.priority
      description: Alert priority.
      type: String
    - contextPath: OpsGenie.Incident.responders.id
      description: ID of the responders.
      type: String
    - contextPath: OpsGenie.Incident.responders.type
      description: Type of the responders.
      type: String
    - contextPath: OpsGenie.Incident.status
      description: Status of the alert.
      type: String
    - contextPath: OpsGenie.Incident.tinyId
      description: Short ID for the alert.
      type: String
    - contextPath: OpsGenie.Incident.updatedAt
      description: Last updated time for the alert.
      type: Date

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    - description: Additional incident note.
      name: note
    description: Close an incident from OpsGenie.
    name: opsgenie-close-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.ClosedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.incidentId
      description: ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ClosedIncident.integrationId
      description: Integration ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ClosedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ClosedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ClosedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ClosedIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    - description: "Additional incident note."
      name: note
    description: Resolve an incident from OpsGenie.
    name: opsgenie-resolve-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.ResolvedIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.incidentId
      description: ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.integrationId
      description: Integration ID of the closed incident.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.ResolvedIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.ResolvedIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.ResolvedIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    - description: "Teams/users to whom the incident is routed via notifications.\n You need to insert it as list of triples - responder_type,value_type,value.\n The responder_type can be: team or user.\n The value_type can be: id or name.\n You can retrieve the value from the output of the '!opsgenie-get-teams' command.\n For example: user,id,123,team,name,test_team."
      isArray: true
      name: responders
      required: true
    - description: Additional alert note.
      name: note
    description: Add a responder to an OpsGenie incident.
    name: opsgenie-add-responder-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.AddResponderIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.incidentId
      description: ID of the created incident.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.integrationId
      description: Integration ID of the created incident.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddResponderIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddResponderIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddResponderIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    - description: Comma-separated list of tags to add to the incident.
      isArray: true
      name: tags
      required: true
    - description: Additional incident note.
      name: note
    description: Add a tag to the OpsGenie incident.
    name: opsgenie-add-tag-incident
    polling: true
    outputs:
    - contextPath: OpsGenie.AddTagIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.incidentId
      description: ID of the added incident.
      type: String
    - contextPath: OpsGenie.AddTagIncident.integrationId
      description: Integration ID of the added incident.
      type: String
    - contextPath: OpsGenie.AddTagIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddTagIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddTagIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddTagIncident.success
      description: Whether the request was successful.
      type: Boolean

  - arguments:
    - description: The ID of the incident from Opsgenie.
      name: incident_id
      required: true
    - description: Comma-separated list of tags to add to the incident.
      isArray: true
      name: tags
      required: true
    - description: Additional incident note.
      name: note
    description: Remove a tag from the OpsGenie alert.
    name: opsgenie-remove-tag-incident
    outputs:
    - contextPath: OpsGenie.RemoveTagIncident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.incidentId
      description: Incident ID of the remove tag incident.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.integrationId
      description: Integration ID of the remove tag incident.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.RemoveTagIncident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.RemoveTagIncident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.RemoveTagIncident.success
      description: Whether the request was successful.
      type: Boolean

    polling: true
  - name: opsgenie-get-teams
    description: Get teams.
    arguments:
    - name: team_id
      description: The ID of the team from Opsgenie.
    outputs:
    - contextPath: OpsGenie.Team.description
      description: Team description.
      type: String
    - contextPath: OpsGenie.Team.id
      description: Team ID.
      type: String
    - contextPath: OpsGenie.Team.links.api
      description: Team API links.
      type: String
    - contextPath: OpsGenie.Team.links.web
      description: Team web links.
      type: String
    - contextPath: OpsGenie.Team.name
      description: Team name.
      type: String
  - name: opsgenie-get-request
    polling: true
    description: Get a request in Opsgenie.
    arguments:
    - name: output_prefix
      deprecated: true
      description: The output prefix to use for the results.
    - name: polled_once
      deprecated: true
      description: 'Whether this is the first time polling.'
    - name: request_id
      description: The id of the request to get.
      required: true
    - name: request_type
      description: The type of the request to get.
      required: true
      auto: PREDEFINED
      predefined:
      - alerts
      - Incidents
    outputs:
    - contextPath: OpsGenie.Alert.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Alert.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Alert.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Alert.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Alert.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Alert.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Alert.success
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Incident.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.Incident.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.Incident.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.Incident.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.Incident.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.Incident.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.Incident.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.Incident.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.Incident.success
      description: Whether the request was successful.
      type: Boolean
  - name: opsgenie-get-team-routing-rules
    description: Lists team routing rules.
    arguments:
    - name: team_id
      description: The ID of the team from Opsgenie.
      required: true
    outputs:
    - contextPath: OpsGenie.TeamRoutingRule.name
      description: Name of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.order
      description: Order of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.id
      description: ID of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.timezone
      description: Timezone of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.teamId
      description: Team ID of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.customerId
      description: Customer ID of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.notify.id
      description: Notify ID of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.notify.name
      description: Notify name of the routing rule.
    - contextPath: OpsGenie.TeamRoutingRule.notify.type
      description: Notify type of the routing rule.
  - name: opsgenie-get-alert-logs
    polling: true
    description: Gets logs of an OpsGenie Alert.
    arguments:
    - name: alert_id
      required: true
      description: Alert ID.
    outputs:
    - contextPath: OpsGenie.AlertLogs.createdAt
      description: Time the alert was created.
      type: String
    - contextPath: OpsGenie.AlertLogs.log
      description: Log of the alert.
      type: String
    - contextPath: OpsGenie.AlertLogs.offset
      description: Offset of the alert log.
      type: String
    - contextPath: OpsGenie.AlertLogs.owner
      description: Owner of the alert log.
      type: String
    - contextPath: OpsGenie.AlertLogs.type
      description: Type of the alert log.
      type: String
  - name: opsgenie-add-alert-note
    description: Adds a note to an OpsGenie Alert.
    arguments:
    - name: alert_id
      required: true
      description: Alert ID to add the note to.
    - name: note
      required: true
      description: Alert note to add.
    - name: user
      required: false
      description: Display name of the request owner.
    - name: source
      required: false
      description: Display name of the request source.
    outputs:
    - contextPath: OpsGenie.AddAlertNote.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddAlertNote.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertNote.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertNote.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertNote.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddAlertNote.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddAlertNote.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddAlertNote.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddAlertNote.success
      description: Whether the request was successful.
      type: Boolean
    polling: true
  - name: opsgenie-add-alert-details
    polling: true
    description: Adds details to an OpsGenie Alert.
    arguments:
    - name: alert_id
      required: true
      description: Alert ID to add the details to.
    - name: details
      required: true
      description: Comma-separated key=value pairs to use as custom properties of the alert. JSON format is also supported when used within an automation. Examples; details="account=pa,hostname=computer01".
      type: keyValue
    outputs:
    - contextPath: OpsGenie.AddAlertDetails.action
      description: Action of this request.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.alertId
      description: ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.alias
      description: Alias of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.integrationId
      description: Integration ID of the created alert.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.isSuccess
      description: Whether the request was successful.
      type: Boolean
    - contextPath: OpsGenie.AddAlertDetails.processedAt
      description: When the request was processed.
      type: Date
    - contextPath: OpsGenie.AddAlertDetails.requestId
      description: The ID of the request.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.status
      description: The human readable result of the request.
      type: String
    - contextPath: OpsGenie.AddAlertDetails.success
      description: Whether the request was successful.
      type: Boolean
  dockerimage: demisto/python3:3.12.8.1983910
  isfetch: true
  script: '-'
  type: python
  subtype: python3
fromversion: '6.2.0'
tests:
- OpsGenieV3TestPlaybook
