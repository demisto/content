commonfields:
  id: AppsForUserWidget
  version: -1
name: AppsForUserWidget
script: |-
  apps = demisto.get(demisto.args()['indicator'], "CustomFields.appprofiles")
  app_list = apps.split(',')
  app_table = []
  if app_list:
      for name in app_list:
          rec = {}
          rec['App Name'] = name
          app_table.append(rec)

      mdt = tableToMarkdown('User Apps', app_table)
      demisto.results( {'ContentsFormat': formats['markdown'], 'Type': entryTypes['note'], 'Contents': app_table, 'HumanReadable': mdt} )
      #demisto.results(mdt)
  else:
      demisto.results('Apps Not Available')
  #demisto.results(
  #   {'ContentsFormat': formats['json'], 'Type': entryTypes['map'], 'Contents': {"lat": float(lat), "lng": float(lng)}})
type: python
tags:
- dynamic-indicator-section
comment: Show Last Auth Records For User
enabled: true
scripttarget: 0
subtype: python3
timeout: 2.8Âµs
runonce: false
dockerimage: demisto/python3:3.9.8.24399
runas: DBotWeakRole
fromversion: 5.5.0
tests:
- No tests (auto formatted)
