#### Integrations

##### AWS SNS SMS Communication

- **CRITICAL FIX: Automatic AWS credential refresh in long-running execution**
  - Prevents `ExpiredToken` errors during long-running SQS polling
  - STS temporary credentials expire after `sessionDuration` (default 15 minutes)
  - Integration now automatically refreshes credentials at 80% of session duration
  - Example: 900 second session â†’ refresh every 720 seconds (12 minutes)

- **How it works:**
  - Tracks time since last credential refresh
  - Recreates AWS SQS client with fresh credentials before token expires
  - Logs refresh operations for monitoring: "Refreshing AWS credentials"
  - Automatic recovery if ExpiredToken error occurs

- **Benefits:**
  - Long-running execution can run indefinitely without token expiration
  - No manual intervention required
  - No configuration changes needed (uses existing `sessionDuration` parameter)
  - Logs token refresh interval at startup for transparency

- **Technical details:**
  - Refresh interval = `sessionDuration * 0.8`
  - Default: 900 seconds * 0.8 = 720 seconds (12 minutes)
  - If sessionDuration is increased (e.g., to 3600), refresh adapts automatically
  - Error recovery: Forces immediate refresh if ExpiredToken detected
