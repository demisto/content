category: Cloud Services
commonfields:
  id: AWS-EKS
  version: -1
configuration:
- display: AWS Default Region
  name: defaultRegion
  options:
  - us-east-1
  - us-east-2
  - us-west-1
  - us-west-2
  - ca-central-1
  - eu-west-1
  - eu-central-1
  - eu-west-2
  - ap-northeast-1
  - ap-northeast-2
  - ap-southeast-1
  - ap-southeast-2
  - ap-south-1
  - sa-east-1
  - eu-north-1
  - eu-west-3
  - us-gov-east-1
  - us-gov-west-1
  type: 15
  section: Connect
  advanced: true
  required: true
- display: Access Key
  name: credentials
  type: 9
  displaypassword: Secret Key
  section: Connect
  required: false
- display: Retries
  name: retries
  defaultvalue: 5
  additionalinfo: "The maximum number of retry attempts when connection or throttling errors are encountered. Set to 0 to disable retries. The default value is 5 and the limit is 10. Note: Increasing the number of retries will increase the execution time."
  type: 0
  section: Connect
  advanced: true
  required: false
- display: Trust any certificate (not secure)
  name: insecure
  type: 8
  required: false
- display: Use system proxy settings
  name: proxy
  type: 8
  required: false
description: The AWS EKS integration allows for the management and operation of Amazon Elastic Kubernetes Service (EKS) clusters.
display: AWS-EKS
name: AWS-EKS
script:
  commands:
  - name: aws-eks-list-clusters
    description: Lists the Amazon EKS clusters in your Amazon Web Services account in the specified Amazon Web Services Region.
    arguments:
      - name: limit
        description: The maximum number of clusters to return. This value can be between 1 and 100.
        defaultValue: 50
      - name: page
        description: The specific result page to display.
      - name: page_size
        description: The number of records in a page. This value can be between 1 and 100.
    outputs:
    - contextPath: BaseIntegration.Output
      description: '[Enter a description of the data returned in this output.]'
      type: String
  - name: aws-eks-update-cluster-config
    description: Updates an Amazon EKS cluster configuration.
    arguments:
      - name: cluster_name
        description: The name of the Amazon EKS cluster to update.
        required: true
        isArray: false
      - name: resources_vpc_config
        description: The VPC configuration used by the cluster control plane.
        required: false
        isArray: false
      - name: logging
        description: The logging configuration for the cluster.
        required: false
        isArray: false
    outputs:
      - contextPath: AWS.EKS.Cluster.Update.name
        description: The name of the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.Update.id
        description: The ID of the update.
        type: Integer
      - contextPath: AWS.EKS.Cluster.Update.status
        description: The status of the update.
        type: String
      - contextPath: AWS.EKS.Cluster.Update.type
        description: The type of the update.
        type: String
      - contextPath: AWS.EKS.Cluster.Update.params
        description: The parameters of the update.
        type: Object
      - contextPath: AWS.EKS.Cluster.Update.createdAt
        description: The creation date ob the object.
        type: Unknown
      - contextPath: AWS.EKS.Cluster.Update.errors
        description: Any errors associated with a Failed update.
        type: Object
  - name: aws-eks-describe-cluster
    description: Describes an Amazon EKS cluster.
    arguments:
      - name: cluster_name
        description: The name of the cluster to describe.
        required: true
        isArray: false
    outputs:
      - contextPath: AWS.EKS.Cluster.name
        description: The name of your cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.arn
        description: The Amazon Resource Name (ARN) of the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.createdAt
        description: The creation date ob the object.
        type: String
      - contextPath: AWS.EKS.Cluster.version
        description: The Kubernetes server version for the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.endpoint
        description: The endpoint for your Kubernetes API server.
        type: String
      - contextPath: AWS.EKS.Cluster.roleArn
        description: The Amazon Resource Name (ARN) of the IAM role that provides permissions for the Kubernetes control plane to make calls to Amazon Web Services API operations on your behalf.
        type: String
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.subnetIds
        description: The subnets associated with your cluster.
        type: List
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.securityGroupIds
        description: The security groups associated with the cross-account elastic network interfaces that are used to allow communication between your nodes and the Kubernetes control plane.
        type: List
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.clusterSecurityGroupId
        description: The cluster security group that was created by Amazon EKS for the cluster. Managed node groups use this security group for control-plane-to-data-plane communication.
        type: String
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.vpcId
        description: The VPC associated with your cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.endpointPublicAccess
        description: Whether the public API server endpoint is enabled.
        type: Boolean
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.endpointPrivateAccess
        description: This parameter indicates whether the Amazon EKS private API server endpoint is enabled.
        type: Boolean
      - contextPath: AWS.EKS.Cluster.resourcesVpcConfig.publicAccessCidrs
        description: The CIDR blocks that are allowed access to your cluster’s public Kubernetes API server endpoint.
        type: List
      - contextPath: AWS.EKS.Cluster.kubernetesNetworkConfig.serviceIpv4Cidr
        description: The CIDR block that Kubernetes Pod and Service object IP addresses are assigned from.
        type: String
      - contextPath: AWS.EKS.Cluster.kubernetesNetworkConfig.serviceIpv6Cidr
        description: The CIDR block that Kubernetes pod and service IP addresses are assigned from if you created a 1.21 or later cluster with version 1.10.1 or later of the Amazon VPC CNI add-on and specified ipv6 for ipFamily when you created the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.kubernetesNetworkConfig.ipFamily
        description: The IP family used to assign Kubernetes Pod and Service objects IP addresses.
        type: String
      - contextPath: AWS.EKS.Cluster.logging.clusterLogging
        description: The cluster control plane logging configuration for your cluster.
        type: Object
      - contextPath: AWS.EKS.Cluster.identity
        description: The identity provider information for the cluster.
        type: Object
      - contextPath: AWS.EKS.Cluster.status
        description: The current status of the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.certificateAuthority.data
        description: The Base64-encoded certificate data required to communicate with your cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.clientRequestToken
        description: A unique, case-sensitive identifier that you provide to ensure the idempotency of the request.
        type: String
      - contextPath: AWS.EKS.Cluster.platformVersion
        description: The platform version of your Amazon EKS cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.tags
        description: A dictionary containing metadata for categorization and organization.
        type: Object
      - contextPath: AWS.EKS.Cluster.encryptionConfig.resources
        description: Specifies the resources to be encrypted. The only supported value is secrets.
        type: List
      - contextPath: AWS.EKS.Cluster.encryptionConfig.provider
        description: Key Management Service (KMS) key.
        type: Object
      - contextPath: AWS.EKS.Cluster.connectorConfig.activationId
        description: A unique ID associated with the cluster for registration purposes.
        type: String
      - contextPath: AWS.EKS.Cluster.connectorConfig.activationCode
        description: A unique code associated with the cluster for registration purposes.
        type: String
      - contextPath: AWS.EKS.Cluster.connectorConfig.activationExpiry
        description: The expiration time of the connected cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.connectorConfig.provider
        description: The cluster’s cloud service provider.
        type: String
      - contextPath: AWS.EKS.Cluster.connectorConfig.roleArn
        description: The Amazon Resource Name (ARN) of the role to communicate with services from the connected Kubernetes cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.id
        description: The ID of your local Amazon EKS cluster on an Amazon Web Services Outpost.
        type: String
      - contextPath: AWS.EKS.Cluster.health.issues
        description: An object representing the health issues of your local Amazon EKS cluster on an Amazon Web Services Outpost.
        type: List
      - contextPath: AWS.EKS.Cluster.outpostConfig.outpostArns
        description: An object representing the configuration of your local Amazon EKS cluster on an Amazon Web Services Outpost.
        type: Object
      - contextPath: AWS.EKS.Cluster.outpostConfig.controlPlaneInstanceType
        description: The Amazon EC2 instance type used for the control plane.
        type: String
      - contextPath: AWS.EKS.Cluster.outpostConfig.controlPlanePlacement
        description: An object representing the placement configuration for all the control plane instances of your local Amazon EKS cluster on an Amazon Web Services Outpost.
        type: Object
      - contextPath: AWS.EKS.Cluster.accessConfig.bootstrapClusterCreatorAdminPermissions
        description: Specifies whether or not the cluster creator IAM principal was set as a cluster admin access entry during cluster creation time.
        type: Boolean
      - contextPath: AWS.EKS.Cluster.accessConfig.authenticationMode
        description: The current authentication mode of the cluster.
        type: String
  - name: aws-eks-create-access-entry
    description: Creates an access entry.
    arguments:
      - name: cluster_name
        description: The name of the cluster for which to create an access entry.
        required: true
        isArray: false
      - name: principal_arn
        description: ARN of the IAM principal for the AccessEntry.
        required: true
        isArray: false
      - name: kubernetes_groups
        description: A list of names for Kubernetes groups in RoleBindings or ClusterRoleBindings.
        required: false
        isArray: false
      - name: tags
        description: A dictionary containing metadata for categorization and organization. Each tag consists of a key and an optional value.
        required: false
        isArray: false
      - name: client_request_token
        description: Unique identifier for idempotency.
        required: false
        isArray: false
      - name: username
        description: Username for Kubernetes authentication.
        required: false
        isArray: false
      - name: type
        description: The type of access entry to create.
        required: true
        isArray: false
        defaultvalue: Standard
        auto: PREDEFINED
        predefined:
          - Standard
          - FARGATE_LINUX
          - EC2_LINUX
          - EC2_WINDOWS
    outputs:
      - contextPath: AWS.EKS.Cluster.AccessEntry.clusterName
        description: The name of the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.principalArn
        description: The ARN of the IAM principal for the access entry.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.kubernetesGroups
        description: A list of names that you’ve specified in a Kubernetes RoleBinding or ClusterRoleBinding object so that Kubernetes authorizes the principalARN access to cluster objects.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.accessEntryArn
        description: The ARN of the access entry.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.createdAt
        description: The creation date ob the object.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.modifiedAt
        description: The date and time for the last modification to the object.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.tags
        description: A dictionary containing metadata for categorization and organization.
        type: Object
      - contextPath: AWS.EKS.Cluster.AccessEntry.username
        description: The name of a user that can authenticate to the cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.AccessEntry.type
        description: The type of the access entry.
        type: String
  - name: aws-eks-associate-access-policy
    description: Describes an Amazon EKS cluster.
    arguments:
      - name: cluster_name
        description: The name of the cluster for which to create an access entry.
        required: true
        isArray: false
      - name: principal_arn
        description: The Amazon Resource Name (ARN) of the IAM user or role for the AccessEntry that you’re associating the access policy to.
        required: true
        isArray: false
      - name: policy_arn
        description: The ARN of the AccessPolicy that you’re associating.
        required: true
        isArray: false
      - name: type
        description: The scope type of an access policy.
        required: true
        isArray: false
        auto: PREDEFINED
        predefined:
          - cluster
          - namespace
      - name: namespaces
        description: A comma separated list of Kubernetes namespace that an access policy is scoped to. A value is required if you specified namespace for type.
        required: false
        isArray: false
    outputs:
      - contextPath: AWS.EKS.Cluster.Association.clusterName
        description: The name of your cluster.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.principalArn
        description: The ARN of the IAM principal for the AccessEntry.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.associatedAccessPolicy.policyArn
        description: The ARN of the AccessPolicy.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.associatedAccessPolicy.accessScope.type
        description: The scope type of an access policy.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.associatedAccessPolicy.accessScope.namespaces
        description: A Kubernetes namespace that an access policy is scoped to.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.associatedAccessPolicy.associatedAt
        description: The date and time the AccessPolicy was associated with an AccessEntry.
        type: String
      - contextPath: AWS.EKS.Cluster.Association.associatedAccessPolicy.modifiedAt
        description: The date and time for the last modification to the object.
        type: String
  runonce: false
  script: '-'
  type: python
  subtype: python3
  dockerimage: demisto/boto3py3:1.0.0.87582
fromversion: 5.5.0
tests:
- No tests (auto formatted)
