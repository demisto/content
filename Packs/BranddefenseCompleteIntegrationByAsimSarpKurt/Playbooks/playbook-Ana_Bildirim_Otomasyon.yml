contentitemexportablefields:
  contentitemfields:
    propagationLabels:
    - all
id: Ana Bildirim Otomasyon
inputs:
- description: ""
  key: Olay adi
  playbookInputQuery:
  required: false
  value:
    simple: ${incident.name}
name: Ana Bildirim Otomasyon
outputs: []
starttaskid: "0"
tasks:
  "0":
    continueonerrortype: ""
    id: "0"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "25"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 954e6a68-81d1-4718-8094-314e4b65f84b
      iscommand: false
      name: ""
      version: -1
      description: ''
    taskid: 954e6a68-81d1-4718-8094-314e4b65f84b
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 910,
          "y": -340
        }
      }
  "2":
    continueonerrortype: ""
    id: "2"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: b0883618-f8d7-4c81-897d-c571299c3c99
      iscommand: false
      name: Playbook End
      type: title
      version: -1
      description: ''
    taskid: b0883618-f8d7-4c81-897d-c571299c3c99
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 690,
          "y": 1140
        }
      }
  "4":
    continueonerror: true
    continueonerrortype: errorPath
    fieldMapping:
    - incidentfield: L1 Notes
      output:
        simple: ${QRadar.Note.Text}
    id: "4"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#error#':
      - "6"
      '#none#':
      - "17"
    note: false
    quietmode: 0
    scriptarguments:
      note_text:
        simple: Alarm 1 notları
      offense_id:
        simple: ${incident.alertid}
    separatecontext: false
    skipunavailable: false
    task:
      brand: QRadar v3
      description: Creates a note on an offense.
      id: 05a40ed0-d044-42c3-8e7a-ffa2eb271d37
      iscommand: true
      name: QRadar Offense Note Create
      script: QRadar v3|||qradar-offense-note-create
      type: regular
      version: -1
    taskid: 05a40ed0-d044-42c3-8e7a-ffa2eb271d37
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 50,
          "y": 370
        }
      }
  "6":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: "1"
          operator: isEqualString
          right:
            value:
              simple: "1"
      label: condition-1
    continueonerrortype: ""
    id: "6"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      condition-1:
      - "17"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: e07a088b-63ec-4e2e-8582-34c69205bf31
      iscommand: false
      name: QRadar Integration does not exist
      type: condition
      version: -1
    taskid: e07a088b-63ec-4e2e-8582-34c69205bf31
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 265,
          "y": 545
        }
      }
  "17":
    continueonerrortype: ""
    id: "17"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "2"
    note: false
    quietmode: 0
    scriptarguments:
      closeReason:
        simple: Resolved
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.close.inv
      id: 239a5e30-dad7-45f5-853b-2442c7bab691
      iscommand: true
      name: Close Investigation
      script: Builtin|||closeInvestigation
      type: regular
      version: -1
    taskid: 239a5e30-dad7-45f5-853b-2442c7bab691
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 265,
          "y": 720
        }
      }
  "18":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: "1"
          operator: isEqualString
          right:
            value:
              simple: "1"
      label: Alarm 1
    - condition:
      - - left:
            iscontext: true
            value:
              simple: "2"
          operator: isEqualString
          right:
            value:
              simple: "2"
      label: Alarm 2
    continueonerrortype: ""
    id: "18"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      Alarm 1:
      - "4"
      Alarm 2:
      - "19"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 578e2b65-d60e-46ea-841a-78a6251a7da9
      iscommand: false
      name: Alarm Selection For Notes (Alarm ismi veya Incident Type)
      type: condition
      version: -1
    taskid: 578e2b65-d60e-46ea-841a-78a6251a7da9
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 265,
          "y": 195
        }
      }
  "19":
    continueonerror: true
    continueonerrortype: errorPath
    fieldMapping:
    - incidentfield: L1 Notes
      output:
        simple: ${QRadar.Note.Text}
    id: "19"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#error#':
      - "6"
      '#none#':
      - "17"
    note: false
    quietmode: 0
    scriptarguments:
      note_text:
        simple: Alarm 2 notları
      offense_id:
        simple: ${incident.alertid}
    separatecontext: false
    skipunavailable: false
    task:
      brand: QRadar v3
      description: Creates a note on an offense.
      id: 0b85ce50-1c75-4218-848c-71ae158aa93d
      iscommand: true
      name: QRadar Offense Note Create
      script: QRadar v3|||qradar-offense-note-create
      type: regular
      version: -1
    taskid: 0b85ce50-1c75-4218-848c-71ae158aa93d
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
  "20":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: ${incident.eventid}
          operator: inList
          right:
            iscontext: true
            value:
              simple: lists.EventIDList
      label: "yes"
    continueonerrortype: ""
    id: "20"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      "yes":
      - "21"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: c3305a9e-b3a2-4f2b-87cb-e0f08a7a90e7
      iscommand: false
      name: Check Event ID
      type: condition
      version: -1
    taskid: c3305a9e-b3a2-4f2b-87cb-e0f08a7a90e7
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 1140,
          "y": 260
        }
      }
  "21":
    continueonerrortype: ""
    fieldMapping:
    - incidentfield: L1 Notes
      output:
        complex:
          root: ${L1NotebyScript}
          transformers:
          - args:
              action_dt: {}
              ignore_case: {}
              multi_line: {}
              output_format:
                value:
                  simple: ' '
              period_matches_newline: {}
              regex:
                value:
                  simple: \n
            operator: RegexReplace
    id: "21"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "22"
    note: false
    quietmode: 0
    scriptarguments:
      qradarevents:
        simple: ${incident.qradarevents}
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: c7e68f78-0f30-44bb-84f8-128cf73efc34
      iscommand: false
      name: Event ID Analysis
      scriptName: Berkay_AD_Automation_v2test
      type: regular
      version: -1
    taskid: c7e68f78-0f30-44bb-84f8-128cf73efc34
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1330,
          "y": 480
        }
      }
  "22":
    continueonerror: true
    continueonerrortype: ""
    fieldMapping:
    - incidentfield: L1 Notes
      output:
        simple: ${QRadar.Note.Text}
    id: "22"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "2"
    note: false
    quietmode: 0
    scriptarguments:
      note_text:
        simple: ${incident.l1notes}
      offense_id:
        simple: ${incident.alertid}
    separatecontext: false
    skipunavailable: false
    task:
      brand: QRadar v3
      description: Creates a note on an offense.
      id: 7fcd70be-782c-41d2-8b65-0d30826e55d0
      iscommand: true
      name: QRadar Offense Note Create
      script: QRadar v3|||qradar-offense-note-create
      type: regular
      version: -1
    taskid: 7fcd70be-782c-41d2-8b65-0d30826e55d0
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1050,
          "y": 670
        }
      }
  "24":
    continueonerrortype: ""
    id: "24"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#none#':
      - "20"
    note: false
    quietmode: 0
    scriptarguments:
      eventid:
        complex:
          accessor: qradarevents}
          root: ${incident
          transformers:
          - args:
              error_if_no_match: {}
              ignore_case: {}
              multi_line: {}
              period_matches_newline: {}
              regex:
                value:
                  simple: EventID=([^\\]+)
              unpack_matches: {}
            operator: RegexExtractAll
    separatecontext: false
    skipunavailable: false
    task:
      brand: Builtin
      description: commands.local.cmd.set.incident
      id: c9bd3d41-b6b6-4dab-8c5c-0f74ad4dd6e3
      iscommand: true
      name: Map Event ID
      script: Builtin|||setIncident
      type: regular
      version: -1
    taskid: c9bd3d41-b6b6-4dab-8c5c-0f74ad4dd6e3
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 1350,
          "y": 20
        }
      }
  "25":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: ${incident.eventid}
          operator: isEmpty
      label: "yes"
    continueonerrortype: ""
    id: "25"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    nexttasks:
      '#default#':
      - "20"
      "yes":
      - "24"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 1064ab11-af4a-4010-8d5e-057e96f53d93
      iscommand: false
      name: Event ID Empty?
      type: condition
      version: -1
    taskid: 1064ab11-af4a-4010-8d5e-057e96f53d93
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 910,
          "y": -110
        }
      }
  "26":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              simple: ${incident.eventid}
          operator: inList
          right:
            iscontext: true
            value:
              simple: lists.EventIDList
      label: Automations
    continueonerrortype: ""
    id: "26"
    ignoreworker: false
    isautoswitchedtoquietmode: false
    isoversize: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 65504ff3-85ee-4e1d-855a-7ff7c1caa8c2
      iscommand: false
      name: Evaluate
      type: condition
      version: -1
    taskid: 65504ff3-85ee-4e1d-855a-7ff7c1caa8c2
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 660,
          "y": 530
        }
      }
version: -1
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 1545,
        "width": 1680,
        "x": 50,
        "y": -340
      }
    }
  }
tests:
- No tests (auto formatted)
fromversion: 6.0.0
