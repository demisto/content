id: Set - Test
version: -1
name: Set - Test
description: A test for the Set command. Tests the Stringify parameter too. Don't know why nobody ever made a test for this before.
starttaskid: "0"
tasks:
  "0":
    id: "0"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "7"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 9f8b4a8f-c83c-46cc-8d22-e17762327435
      iscommand: false
      name: ""
      version: -1
      description: ''
    taskid: 9f8b4a8f-c83c-46cc-8d22-e17762327435
    timertriggers: []
    type: start
    view: |-
      {
        "position": {
          "x": 450,
          "y": 50
        }
      }
  "1":
    id: "1"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "6"
    note: false
    quietmode: 0
    reputationcalc: 1
    scriptarguments:
      append: {}
      key:
        simple: NumberSavedAsNumber
      stringify: {}
      value:
        simple: "14444444444444444444"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Sets a value into the context with the given context key
      id: f3ff2f09-23c2-409d-856d-ee12e2438526
      iscommand: false
      name: Set number as number
      script: Set
      type: regular
      version: -1
    taskid: f3ff2f09-23c2-409d-856d-ee12e2438526
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 750,
          "y": 350
        }
      }
  "2":
    id: "2"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "3"
    note: false
    quietmode: 0
    reputationcalc: 1
    scriptarguments:
      append: {}
      key:
        simple: NumberSavedAsString
      stringify:
        simple: "true"
      value:
        simple: "14444444444444444444"
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Sets a value into the context with the given context key
      id: d9fccb57-3355-48bd-8286-1805e4b5f5bd
      iscommand: false
      name: Set number as string
      script: Set
      type: regular
      version: -1
    taskid: d9fccb57-3355-48bd-8286-1805e4b5f5bd
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 150,
          "y": 350
        }
      }
  "3":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                root: NumberSavedAsString
          operator: isEqualString
          right:
            value:
              simple: "14444444444444444444"
      label: "yes"
    id: "3"
    ignoreworker: false
    nexttasks:
      '#default#':
      - "5"
      "yes":
      - "4"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 9984ded9-e141-476c-8cdf-b78a1551b833
      iscommand: false
      name: Was the number saved as string?
      type: condition
      version: -1
    taskid: 9984ded9-e141-476c-8cdf-b78a1551b833
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 150,
          "y": 520
        }
      }
  "4":
    id: "4"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "8"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: a20b21d9-3f3b-40b9-854e-df7de2d8e5d6
      iscommand: false
      name: Test DT
      type: title
      version: -1
      description: ''
    taskid: a20b21d9-3f3b-40b9-854e-df7de2d8e5d6
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 440,
          "y": 1090
        }
      }
  "5":
    id: "5"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "4"
    note: false
    quietmode: 0
    reputationcalc: 1
    scriptarguments:
      message:
        simple: The number was not saved as string, or the number was saved as string
          instead of a number. Does your PR change the Stringify parameter of the
          Set command? Or was Demisto suddenly able to save the number 14444444444444444444
          as the actual number it is?
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: 96dcc68f-c9a2-49e9-8cd4-fa0752a31b8b
      iscommand: false
      name: Fail the playbook
      script: PrintErrorEntry
      type: regular
      version: -1
    taskid: 96dcc68f-c9a2-49e9-8cd4-fa0752a31b8b
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 440,
          "y": 750
        }
      }
  "6":
    conditions:
    - condition:
      - - left:
            iscontext: true
            value:
              complex:
                root: NumberSavedAsNumber
          operator: isEqualNumber
          right:
            value:
              simple: "14444444444444444444"
      label: "Yes"
    id: "6"
    ignoreworker: false
    nexttasks:
      '#default#':
      - "5"
      "Yes":
      - "4"
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 63eae3c1-3ee3-4c23-89d1-82c84c537d8b
      iscommand: false
      name: Was the number saved as number?
      type: condition
      version: -1
    taskid: 63eae3c1-3ee3-4c23-89d1-82c84c537d8b
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 750,
          "y": 530
        }
      }
  "7":
    id: "7"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "1"
      - "2"
    note: false
    quietmode: 0
    reputationcalc: 1
    scriptarguments:
      all:
        simple: "yes"
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Delete field from context
      id: 15bef098-988c-4539-843d-38dc3aa2e572
      iscommand: false
      name: Clear the context
      script: DeleteContext
      type: regular
      version: -1
    taskid: 15bef098-988c-4539-843d-38dc3aa2e572
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 450,
          "y": 180
        }
      }
  "8":
    id: "8"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "9"
    note: false
    quietmode: 0
    scriptarguments:
      append:
        simple: "true"
      key:
        simple: Data
      stringify: {}
      value:
        simple: '{"ID": "test_id", "Value": "test_value"}'
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Set a value in context under the key you entered.
      id: 4148e83c-f633-4e2d-8d31-0c317759162c
      iscommand: false
      name: Set Object
      script: Set
      type: regular
      version: -1
    taskid: 4148e83c-f633-4e2d-8d31-0c317759162c
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 440,
          "y": 1230
        }
      }
  "9":
    id: "9"
    ignoreworker: false
    nexttasks:
      "no":
      - "10"
      "yes":
      - "11"
    note: false
    quietmode: 0
    scriptarguments:
      left:
        simple: ${Data.Value}
      right:
        simple: test_val2
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Check whether the values provided in arguments are equal. If either
        of the arguments are missing, no is returned.
      id: ca384316-9c61-4aeb-8a50-1cad2e3d3ebe
      iscommand: false
      name: Verify Context
      script: AreValuesEqual
      type: condition
      version: -1
    taskid: ca384316-9c61-4aeb-8a50-1cad2e3d3ebe
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 440,
          "y": 1400
        }
      }
  "10":
    id: "10"
    ignoreworker: false
    note: false
    quietmode: 0
    scriptarguments:
      message:
        simple: Context was not set as expected to test_value
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: 1210ae86-512f-45cc-8a59-47e860369cbf
      iscommand: false
      name: Fail
      script: PrintErrorEntry
      type: regular
      version: -1
    taskid: 1210ae86-512f-45cc-8a59-47e860369cbf
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 960,
          "y": 1610
        }
      }
  "11":
    id: "11"
    ignoreworker: false
    nexttasks:
      '#none#':
      - "12"
    note: false
    quietmode: 0
    scriptarguments:
      append:
        simple: "true"
      key:
        simple: Data(val.ID == obj.ID)
      stringify: {}
      value:
        simple: '{"ID": "test_id", "Value": "test_val2"}'
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Set a value in context under the key you entered.
      id: 5cb0315b-b124-43bd-8cc7-5e36c2362d61
      iscommand: false
      name: Set - Update Object
      script: Set
      type: regular
      version: -1
    taskid: 5cb0315b-b124-43bd-8cc7-5e36c2362d61
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 440,
          "y": 1630
        }
      }
  "12":
    id: "12"
    ignoreworker: false
    nexttasks:
      "no":
      - "13"
      "yes":
      - "14"
    note: false
    quietmode: 0
    scriptarguments:
      left:
        simple: ${Data.Value}
      right:
        simple: test_value
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Check whether the values provided in arguments are equal. If either
        of the arguments are missing, no is returned.
      id: 2c2bba00-10bd-4a99-8085-b638f212e81e
      iscommand: false
      name: Verify Context
      script: AreValuesEqual
      type: condition
      version: -1
    taskid: 2c2bba00-10bd-4a99-8085-b638f212e81e
    timertriggers: []
    type: condition
    view: |-
      {
        "position": {
          "x": 440,
          "y": 1830
        }
      }
  "13":
    id: "13"
    ignoreworker: false
    note: false
    quietmode: 0
    scriptarguments:
      message:
        simple: Failed verifying context value of test_val2
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      description: Prints an error entry with a given message
      id: 29b53dea-de08-46fd-8455-d62a16a55fe1
      iscommand: false
      name: Fail
      script: PrintErrorEntry
      type: regular
      version: -1
    taskid: 29b53dea-de08-46fd-8455-d62a16a55fe1
    timertriggers: []
    type: regular
    view: |-
      {
        "position": {
          "x": 880,
          "y": 2030
        }
      }
  "14":
    id: "14"
    ignoreworker: false
    note: false
    quietmode: 0
    separatecontext: false
    skipunavailable: false
    task:
      brand: ""
      id: 79da208f-0303-4f1d-875a-824e4c381ce6
      iscommand: false
      name: All Good
      type: title
      version: -1
      description: ''
    taskid: 79da208f-0303-4f1d-875a-824e4c381ce6
    timertriggers: []
    type: title
    view: |-
      {
        "position": {
          "x": 440,
          "y": 2050
        }
      }
view: |-
  {
    "linkLabelsPosition": {
      "3_4_yes": 0.12,
      "6_4_Yes": 0.12
    },
    "paper": {
      "dimensions": {
        "height": 2075,
        "width": 1190,
        "x": 150,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
fromversion: 5.0.0
