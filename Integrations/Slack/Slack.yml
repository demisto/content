category: Messaging
commonfields:
  id: SlackV2
  version: -1
configuration:
- display: Slack API access token
  name: access_token
  required: true
  type: 4
- display: Slack API bot token
  name: bot_token
  required: true
  type: 4
- display: Dedicated slack channel for notifications
  name: incidentNotificationChannel
  required: true
  type: 0
- defaultvalue: 'true'
  display: Send notifications about incidents to the dedicated channel
  name: notify_incidents
  required: false
  type: 8
- defaultvalue: Low
  display: Minimum incident severity to send messages to slack by
  name: min_severity
  options:
  - Low
  - Medium
  - High
  - Critical
  required: false
  type: 15
- defaultvalue: Unclassified
  display: Type of incidents created in Slack
  name: incidentType
  required: false
  type: 13
- display: Allow external users to create incidents via DM
  name: allow_incidents
  required: false
  type: 8
- display: Use system proxy settings
  name: proxy
  required: false
  type: 8
- defaultvalue: 'true'
  display: Long running instance
  name: longRunning
  required: false
  type: 8
description: Send messages and notifications to your Slack Team.
display: Slack V2
name: SlackV2
script:
  commands:
  - arguments:
    - auto: PREDEFINED
      default: true
      defaultValue: all
      description: The type of mirroring can be "all" to mirror everything, "chat"
        to mirror only chatting but not commands, or "none" to stop mirroring.
      isArray: false
      name: type
      predefined:
      - all
      - chat
      - none
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'true'
      description: 'Should we auto-close the channel when the incident is closed. '
      isArray: false
      name: autoclose
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: both
      description: The mirroring direction - Slack to Demisto, Demisto to Slack or
        both
      isArray: false
      name: direction
      predefined:
      - Both
      - FromDemisto
      - ToDemisto
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: group
      description: Mirror the incident to a group (private) or a channel (public).
      isArray: false
      name: mirrorTo
      predefined:
      - channel
      - group
      required: false
      secret: false
    deprecated: true
    description: This command is deprecated. Use mirror-investigation instead.
    execution: false
    name: slack-mirror-investigation
  - arguments:
    - auto: PREDEFINED
      default: true
      defaultValue: all
      description: The type of mirroring can be "all" to mirror everything, "chat"
        to mirror only chatting but not commands, or "none" to stop mirroring.
      isArray: false
      name: type
      predefined:
      - all
      - chat
      - none
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'true'
      description: 'Should we auto-close the channel when the incident is closed. '
      isArray: false
      name: autoclose
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: both
      description: The mirroring direction - Slack to Demisto, Demisto to Slack or
        both
      isArray: false
      name: direction
      predefined:
      - Both
      - FromDemisto
      - ToDemisto
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: group
      description: Mirror the incident to a group or a channel.
      isArray: false
      name: mirrorTo
      predefined:
      - channel
      - group
      required: false
      secret: false
    - default: false
      description: The name of the channel in Slack - the default is "incident-<incidentID>"
      isArray: false
      name: channelName
      required: false
      secret: false
    - default: false
      description: The slack channel topic
      isArray: false
      name: channelTopic
      required: false
      secret: false
    deprecated: false
    description: Mirror the investigation in slack
    execution: false
    name: mirror-investigation
  - arguments:
    - default: true
      description: The text content of the message
      isArray: false
      name: message
      required: false
      secret: false
    - default: false
      description: Send a direct message by specifying a Slack user name
      isArray: false
      name: to
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: Send a message to a specified channel.
      isArray: false
      name: channel
      required: false
      secret: false
    - default: false
      description: Send a link to an entry to Slack.
      isArray: false
      name: entry
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'false'
      description: Do not add a URL to the Demisto management console.
      isArray: false
      name: ignoreAddURL
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - default: false
      description: Specify a thread id, to send a reply to another message.
      isArray: false
      name: threadID
      required: false
      secret: false
    deprecated: false
    description: Send a message to a slack user, group or channel.
    execution: false
    name: send-notification
    outputs:
    - contextPath: Slack.Thread.ID
      description: The conversation thread ID
      type: String
  - arguments:
    - default: true
      description: The text content of the message
      isArray: false
      name: message
      required: false
      secret: false
    - default: false
      description: Send a direct message by specifying a Slack user name
      isArray: false
      name: to
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: Send a message to a specified channel.
      isArray: false
      name: channel
      required: false
      secret: false
    - default: false
      description: Send a message to a specified group.
      isArray: false
      name: group
      required: false
      secret: false
    - default: false
      description: Send a link to an entry to Slack.
      isArray: false
      name: entry
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'false'
      description: Do not add a URL to the Demisto management console.
      isArray: false
      name: IgnoreAddURL
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    - default: false
      description: Specify a thread id, to send a reply to another message.
      isArray: false
      name: threadID
      required: false
      secret: false
    deprecated: true
    description: This command is deprecated. Use send-notification instead.
    execution: false
    name: slack-send
  - deprecated: true
    description: This command is deprecated. Use close-channel instead.
    execution: false
    name: slack-close-channel
  - deprecated: false
    description: Close the mirrored Slack channel for this incident.
    execution: false
    name: close-channel
  - arguments:
    - default: true
      description: The file entry ID
      isArray: false
      name: file
      required: true
      secret: false
    - default: false
      description: A user to send the file to.
      isArray: false
      name: to
      required: false
      secret: false
    - default: false
      description: A private group to send the file to.
      isArray: false
      name: group
      required: false
      secret: false
    - default: false
      description: A channel to send the file to.
      isArray: false
      name: channel
      required: false
      secret: false
    - default: false
      description: Specify a thread id, to send a reply to another message.
      isArray: false
      name: threadID
      required: false
      secret: false
    - default: false
      description: A comment to add to the file.
      isArray: false
      name: comment
      required: false
      secret: false
    deprecated: false
    description: Send a file to a slack user or channel. If none are specified, the
      file is sent to the mirrored investigation channel (if it exists).
    execution: false
    name: slack-send-file
  - arguments:
    - default: false
      description: The channel name. If none is specified, the topic of the mirrored
        investigation channel is set (if it exists).
      isArray: false
      name: channel
      required: false
      secret: false
    - default: true
      description: The channel topic
      isArray: false
      name: topic
      required: true
      secret: false
    deprecated: false
    description: Set a topic for a slack channel
    execution: false
    name: slack-set-channel-topic
  dockerimage: demisto/slack:1.0.0.814
  isfetch: false
  longRunning: true
  runonce: false
  script: '-'
  type: python
fromversion: 5.0.0
