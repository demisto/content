category: Network Security
commonfields:
  id: Google Key Management Service
  version: -1
configuration:
- display: User's Service Account JSON
  name: service_account
  required: true
  type: 4
- display: Project in Google Cloud KMS
  name: project
  required: true
  type: 0
- defaultvalue: global
  display: Default Location
  name: location
  options:
  - global
  - asia-east1
  - asia-east2
  - asia-northeast1
  - asia-northeast2
  - asia-south1
  - asia-southeast1
  - australia-southeast1
  - europe-north1
  - europe-west1
  - europe-west2
  - europe-west3
  - europe-west4
  - europe-west6
  - northamerica-northeast1
  - us-central1
  - us-east1
  - us-east4
  - us-west1
  - us-west2
  - southamerica-east1
  - eur4
  - nam4
  - asia
  - europe
  - us
  required: true
  type: 15
- display: Default Key Ring
  name: key_ring
  required: false
  type: 0
- display: Use system proxy settings
  name: proxy
  required: false
  type: 8
description: Use the Google Key Management Service API for CryptoKey managment and
  encrypt/decrypt functionality.
display: Google Key Management Service
name: Google Key Management Service
script:
  commands:
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the created crypto-key - It must be unique within a
        KeyRing and match the regular expression [a-zA-Z0-9_-]{1,63}
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: Labels with user-defined metadata.
      isArray: true
      name: labels
      required: false
      secret: false
    - default: false
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
        Key rotations performed manually via cryptoKeyVersions.create and cryptoKeys.updatePrimaryVersion do not affect nextRotationTime.

        Keys with purpose ENCRYPT_DECRYPT support automatic rotation. For other keys, this field must be omitted.

        A timestamp or a date in RFC3339 UTC "Zulu" format, accurate to nanoseconds. Example: "2014-10-02T15:01:23.045123456Z".

        Leave empty to set in 90 days.
      isArray: false
      name: next_rotation_time
      required: false
      secret: false
    - default: false
      description: Statement that was generated and signed by the HSM at key creation
        time. Use this statement to verify attributes of the key as stored on the
        HSM, independently of Google. Only provided for key versions with protectionLevel
        HSM.
      isArray: true
      name: attestation
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: ENABLED
      description: The state of a CryptoKeyVersion, indicating if it can be used.
      isArray: false
      name: state
      predefined:
      - CRYPTO_KEY_VERSION_STATE_UNSPECIFIED
      - PENDING_GENERATION
      - ENABLED
      - DISABLED
      - DESTROYED
      - DESTROY_SCHEDULED
      - PENDING_IMPORT
      - IMPORT_FAILED
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: ENCRYPT_DECRYPT
      description: CryptoKeyPurpose describes the cryptographic capabilities of a
        CryptoKey. A given key can only be used for the operations allowed by its
        purpose.
      isArray: false
      name: purpose
      predefined:
      - CRYPTO_KEY_PURPOSE_UNSPECIFIED
      - ENCRYPT_DECRYPT
      - ASYMMETRIC_SIGN
      - ASYMMETRIC_DECRYPT
      required: true
      secret: false
    - default: false
      defaultValue: '7776000'
      description: next_rotation_time will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours. Keys with purpose ENCRYPT_DECRYPT support automatic rotation. For other
        keys, this field must be omitted. A duration in seconds.
      isArray: false
      name: rotation_period
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: GOOGLE_SYMMETRIC_ENCRYPTION
      description: Algorithm to use when creating a CryptoKeyVersion based on this
        template.
      isArray: false
      name: algorithm
      predefined:
      - CRYPTO_KEY_VERSION_ALGORITHM_UNSPECIFIED
      - GOOGLE_SYMMETRIC_ENCRYPTION
      - RSA_SIGN_PSS_2048_SHA256
      - RSA_SIGN_PSS_3072_SHA256
      - RSA_SIGN_PSS_4096_SHA256
      - RSA_SIGN_PSS_4096_SHA512
      - RSA_SIGN_PKCS1_2048_SHA256
      - RSA_SIGN_PKCS1_3072_SHA256
      - RSA_SIGN_PKCS1_4096_SHA256
      - RSA_SIGN_PKCS1_4096_SHA512
      - RSA_DECRYPT_OAEP_2048_SHA256
      - RSA_DECRYPT_OAEP_3072_SHA256
      - RSA_DECRYPT_OAEP_4096_SHA256
      - RSA_DECRYPT_OAEP_4096_SHA512
      - EC_SIGN_P256_SHA256
      - EC_SIGN_P384_SHA384
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: SOFTWARE
      description: protection_level to use when creating a CryptoKeyVersion. Defaults
        to SOFTWARE.
      isArray: false
      name: protection_level
      predefined:
      - PROTECTION_LEVEL_UNSPECIFIED
      - SOFTWARE
      - HSM
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'false'
      description: If set to true, the request will create a CryptoKey without any
        CryptoKeyVersions. You will have to create the CryptoKeyVersion in order to
        use this key.
      isArray: false
      name: skip_initial_version_creation
      predefined:
      - 'true'
      - 'false'
      required: false
      secret: false
    deprecated: false
    description: Create a new CryptoKey within a KeyRing.
    execution: false
    name: google-kms-create-key
    outputs:
    - contextPath: GoogleKMS.CryptoKey.Name
      description: The resource name for this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Purpose
      description: The immutable purpose of this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.CreationTime
      description: The time at which this CryptoKey was created.
      type: String
    - contextPath: GoogleKMS.CryptoKey.NextRotationTime
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.RotationPeriod
      description: nextRotationTime will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Labels
      description: Labels with user-defined metadata.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.Algorithm
      description: The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Name
      description: The resource name for this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.State
      description: The current state of the CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.CreationTime
      description: The time at which this CryptoKeyVersion was created.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Algorithm
      description: The algorithm in use in the primary CryptoKeyVersion
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.GenerateTime
      description: The time this CryptoKeyVersion's key material was generated.
      type: Date
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to use
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: Ciphertext to decryp to simple plaintext
      isArray: false
      name: simple_ciphertext
      required: false
      secret: false
    - default: false
      description: |-
        Optional data that must match the data originally supplied in EncryptRequest.additional_authenticated_data.

        A base64-encoded string.
      isArray: false
      name: additional_authenticated_data
      required: false
      secret: false
    - default: false
      description: Ciphertext to decrypt to base64 plaintext
      isArray: false
      name: base64_ciphertext
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: The entry ID for the file to decrypt.
      isArray: false
      name: entry_id
      required: false
      secret: false
    deprecated: false
    description: Decrypts data that was protected by Encrypt.
    execution: false
    name: google-kms-symmetric-decrypt
    outputs:
    - contextPath: GoogleKMS.SymmetricDecrypt.CryptoKey
      description: The CryptoKey in use
      type: String
    - contextPath: GoogleKMS.SymmetricDecrypt.IsBase64
      description: Is the original plaintext in base64
      type: Boolean
    - contextPath: GoogleKMS.SymmetricDecrypt.Plaintext
      description: The decrypted plaintext
      type: String
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to use
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: Siimple plantext to encrypt. Must be no larger than 64KiB.
      isArray: false
      name: simple_plaintext
      required: false
      secret: false
    - default: false
      description: |-
        Optional data that, if specified, must also be provided during decryption through DecryptRequest.additional_authenticated_data.

        The maximum size depends on the key version's protectionLevel. For SOFTWARE keys, the AAD must be no larger than 64KiB. For HSM keys, the combined length of the plaintext and additionalAuthenticatedData fields must be no larger than 8KiB.

        A base64-encoded string.
      isArray: false
      name: additional_authenticated_data
      required: false
      secret: false
    - default: false
      description: Base64 plaintext to encrypt.
      isArray: false
      name: base64_plaintext
      required: false
      secret: false
    - default: false
      description: Entry ID for the file to encrypt.
      isArray: false
      name: entry_id
      required: false
      secret: false
    deprecated: false
    description: Encrypts data, so that it can only be recovered by a call to Decrypt.
    execution: false
    name: google-kms-symmetric-encrypt
    outputs:
    - contextPath: GoogleKMS.SymmetricEncrypt.CryptoKey
      description: The CryptoKey used
      type: String
    - contextPath: GoogleKMS.SymmetricEncrypt.IsBase64
      description: Is the original plaintext in base 64
      type: Boolean
    - contextPath: GoogleKMS.SymmetricEncrypt.Ciphertext
      description: The encrypted ciphertext
      type: String
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the fetched crypto-key.
      isArray: false
      name: crypto_key
      required: true
      secret: false
    deprecated: false
    description: Returns metadata for a given CryptoKey, as well as its primary CryptoKeyVersion.
    execution: false
    name: google-kms-get-key
    outputs:
    - contextPath: GoogleKMS.CryptoKey.Name
      description: The resource name for this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Purpose
      description: The immutable purpose of this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.CreationTime
      description: The time at which this CryptoKey was created.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.NextRotationTime
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.RotationPeriod
      description: nextRotationTime will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Labels
      description: Labels with user-defined metadata.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.Algorithm
      description: The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Name
      description: The resource name for this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.State
      description: The current state of the CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.CreationTime
      description: The time at which this CryptoKeyVersion was created.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Algorithm
      description: The algorithm in use in the primary CryptoKeyVersion
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.GenerateTime
      description: The time this CryptoKeyVersion's key material was generated.
      type: Date
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the updated crypto-key.
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
        Key rotations performed manually via cryptoKeyVersions.create and cryptoKeys.updatePrimaryVersion do not affect nextRotationTime.

        Keys with purpose ENCRYPT_DECRYPT support automatic rotation. For other keys, this field must be omitted.

        A timestamp or a date in RFC3339 UTC "Zulu" format, accurate to nanoseconds. Example: "2014-10-02T15:01:23.045123456Z".
      isArray: false
      name: next_rotation_time
      required: false
      secret: false
    - default: false
      description: Statement that was generated and signed by the HSM at key creation
        time. Use this statement to verify attributes of the key as stored on the
        HSM, independently of Google. Only provided for key versions with protectionLevel
        HSM.
      isArray: true
      name: attestation
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: The state of a CryptoKeyVersion, indicating if it can be used.
      isArray: false
      name: state
      predefined:
      - CRYPTO_KEY_VERSION_STATE_UNSPECIFIED
      - PENDING_GENERATION
      - ENABLED
      - DISABLED
      - DESTROYED
      - DESTROY_SCHEDULED
      - PENDING_IMPORT
      - IMPORT_FAILED
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: CryptoKeyPurpose describes the cryptographic capabilities of a
        CryptoKey. A given key can only be used for the operations allowed by its
        purpose.
      isArray: false
      name: purpose
      predefined:
      - CRYPTO_KEY_PURPOSE_UNSPECIFIED
      - ENCRYPT_DECRYPT
      - ASYMMETRIC_SIGN
      - ASYMMETRIC_DECRYPT
      required: false
      secret: false
    - default: false
      description: next_rotation_time will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours. If rotation_period is set, next_rotation_time must also be set.  Keys
        with purpose ENCRYPT_DECRYPT support automatic rotation. For other keys, this
        field must be omitted. A duration in seconds.
      isArray: false
      name: rotation_period
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Algorithm to use when creating a CryptoKeyVersion based on this
        template.
      isArray: false
      name: algorithm
      predefined:
      - CRYPTO_KEY_VERSION_ALGORITHM_UNSPECIFIED
      - GOOGLE_SYMMETRIC_ENCRYPTION
      - RSA_SIGN_PSS_2048_SHA256
      - RSA_SIGN_PSS_3072_SHA256
      - RSA_SIGN_PSS_4096_SHA256
      - RSA_SIGN_PSS_4096_SHA512
      - RSA_SIGN_PKCS1_2048_SHA256
      - RSA_SIGN_PKCS1_3072_SHA256
      - RSA_SIGN_PKCS1_4096_SHA256
      - RSA_SIGN_PKCS1_4096_SHA512
      - RSA_DECRYPT_OAEP_2048_SHA256
      - RSA_DECRYPT_OAEP_3072_SHA256
      - RSA_DECRYPT_OAEP_4096_SHA256
      - RSA_DECRYPT_OAEP_4096_SHA512
      - EC_SIGN_P256_SHA256
      - EC_SIGN_P384_SHA384
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: protection_level to use when creating a CryptoKeyVersion based
        on this template.
      isArray: false
      name: protection_level
      predefined:
      - PROTECTION_LEVEL_UNSPECIFIED
      - SOFTWARE
      - HSM
      required: false
      secret: false
    - default: false
      description: Labels with user-defined metadata.
      isArray: false
      name: labels
      required: false
      secret: false
    deprecated: false
    description: Update a CryptoKey.
    execution: false
    name: google-kms-update-key
    outputs:
    - contextPath: GoogleKMS.CryptoKey.Name
      description: The resource name for this CryptoKey×¥
      type: String
    - contextPath: GoogleKMS.CryptoKey.Purpose
      description: The immutable purpose of this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.CreationTime
      description: The time at which this CryptoKey was created.
      type: String
    - contextPath: GoogleKMS.CryptoKey.NextRotationTime
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.RotationPeriod
      description: nextRotationTime will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Labels
      description: Labels with user-defined metadata.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.Algorithm
      description: The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Name
      description: The resource name for this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.State
      description: The current state of the CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.CreationTime
      description: The time at which this CryptoKeyVersion was created.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Algorithm
      description: The algorithm in use in the primary CryptoKeyVersion
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.GenerateTime
      description: The time this CryptoKeyVersion's key material was generated.
      type: Date
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to destroy
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: The CryptoKeyVersion ID to destroy. Use keyword 'default' to use
        the primary CryptoKeyVersion of the given CryptoKey.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    deprecated: false
    description: Schedule a CryptoKeyVersion for destruction.
    execution: false
    name: google-kms-destroy-key
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to restore
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: The CryptoKeyVersion ID to restore. Use keyword 'default' to use
        the primary CryptoKeyVersion of the given CryptoKey.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    deprecated: false
    description: Restore a CryptoKeyVersion in the DESTROY_SCHEDULED state.
    execution: false
    name: google-kms-restore-key
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to disable
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: The CryptoKeyVersion ID to disable. Use keyword 'default' to use
        the primary CryptoKeyVersion of the given CryptoKey.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    deprecated: false
    description: Disable a CryptoKeyVersion of a given CryptoKey
    execution: false
    name: google-kms-disable-key
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to enable
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: The CryptoKeyVersion ID to enable. Use keyword 'default' to use
        the primary CryptoKeyVersion of the given CryptoKey.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    deprecated: false
    description: Enable a CryptoKeyVersion of a given CryptoKey.
    execution: false
    name: google-kms-enable-key
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      description: Show only keys with this primary CryptoKeyVersion state. Leave
        empty to show all.
      isArray: false
      name: key_state
      predefined:
      - CRYPTO_KEY_VERSION_STATE_UNSPECIFIED
      - PENDING_GENERATION
      - ENABLED
      - DISABLED
      - DESTROYED
      - DESTROY_SCHEDULED
      - PENDING_IMPORT
      - IMPORT_FAILED
      required: false
      secret: false
    deprecated: false
    description: Lists all keys in key ring
    execution: false
    name: google-kms-list-keys
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to use
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: The CryptoKeyVersion to use.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    - default: false
      description: Simple plaintext to encrypt. Must be no larger than 64KiB.
      isArray: false
      name: simple_plaintext
      required: false
      secret: false
    - default: false
      description: Base64 plantext to encrypt
      isArray: false
      name: base64_plaintext
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: Entry ID of the file to encrypt.
      isArray: false
      name: entry_id
      required: false
      secret: false
    deprecated: false
    description: Encrypt using a asymmetric CryptoKey
    execution: false
    name: google-kms-asymmetric-encrypt
    outputs:
    - contextPath: GoogleKMS.AsymmetricEncrypt.CryptoKey
      description: The CryptoKey used
      type: String
    - contextPath: GoogleKMS.AsymmetricEncrypt.IsBase64
      description: Is the original plaintext in base 64
      type: Boolean
    - contextPath: GoogleKMS.AsymmetricEncrypt.Ciphertext
      description: The encrypted ciphertext
      type: String
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to use
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: The CryptoKeyVersion to use.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    - default: false
      description: Ciphertext to decrypt to simple plaintext.
      isArray: false
      name: simple_ciphertext
      required: false
      secret: false
    - default: false
      description: Ciphertext to decrypt to base64 plaintext
      isArray: false
      name: base64_ciphertext
      predefined:
      - ''
      required: false
      secret: false
    - default: false
      description: The entry ID of the file to decrypt
      isArray: false
      name: entry_id
      required: false
      secret: false
    deprecated: false
    description: Decrypt using an asymmetric CryptoKey
    execution: false
    name: google-kms-asymmetric-decrypt
    outputs:
    - contextPath: GoogleKMS.AsymmetricDecrypt.CryptoKey
      description: The CryptoKey in use
      type: String
    - contextPath: GoogleKMS.AsymmetricDecrypt.IsBase64
      description: Is the original plaintext in base64
      type: Boolean
    - contextPath: GoogleKMS.AsymmetricDecrypt.Plaintext
      description: The decrypted plaintext
      type: String
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'no'
      description: Get all KeyRings from all Locations
      isArray: false
      name: all
      predefined:
      - 'yes'
      - 'no'
      required: false
      secret: false
    deprecated: false
    description: List all KeyRings in a given location
    execution: false
    name: google-kms-list-key-rings
    outputs:
    - contextPath: GoogleKMS.KeyRing.Name
      description: The name of the KeyRing
      type: String
    - contextPath: GoogleKMS.KeyRing.CreateTime
      description: The creation time of the KeyRing
      type: Date
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - auto: PREDEFINED
      default: false
      defaultValue: 'no'
      description: Get all CryptoKey from all KeyRings across all locations
      isArray: false
      name: all
      predefined:
      - 'yes'
      - 'no'
      required: false
      secret: false
    - auto: PREDEFINED
      default: false
      description: Show only keys with this primary CryptoKeyVersion state. Leave
        empty to show all.
      isArray: false
      name: key_state
      predefined:
      - CRYPTO_KEY_VERSION_STATE_UNSPECIFIED
      - PENDING_GENERATION
      - ENABLED
      - DISABLED
      - DESTROYED
      - DESTROY_SCHEDULED
      - PENDING_IMPORT
      - IMPORT_FAILED
      required: false
      secret: false
    deprecated: false
    description: List all CryptoKeys across all KeyRings in a given location
    execution: false
    name: google-kms-list-all-keys
    outputs:
    - contextPath: GoogleKMS.CryptoKey.Name
      description: The resource name for this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Purpose
      description: The immutable purpose of this CryptoKey.
      type: String
    - contextPath: GoogleKMS.CryptoKey.CreationTime
      description: The time at which this CryptoKey was created.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.NextRotationTime
      description: |-
        At nextRotationTime, the Key Management Service will automatically:

        Create a new version of this CryptoKey.
        Mark the new version as primary.
      type: Date
    - contextPath: GoogleKMS.CryptoKey.RotationPeriod
      description: nextRotationTime will be advanced by this period when the service
        automatically rotates a key. Must be at least 24 hours and at most 876,000
        hours.
      type: String
    - contextPath: GoogleKMS.CryptoKey.Labels
      description: Labels with user-defined metadata.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.VersionTemplate.Algorithm
      description: The CryptoKeyVersionAlgorithm that this CryptoKeyVersion supports.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Name
      description: The resource name for this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.State
      description: The current state of the CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.CreationTime
      description: The time at which this CryptoKeyVersion was created.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.ProtectionLevel
      description: The ProtectionLevel describing how crypto operations are performed
        with this CryptoKeyVersion.
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.Algorithm
      description: The algorithm in use in the primary CryptoKeyVersion
      type: String
    - contextPath: GoogleKMS.CryptoKey.PrimaryCryptoKeyVersion.GenerateTime
      description: The time this CryptoKeyVersion's key material was generated.
      type: Date
  - arguments:
    - auto: PREDEFINED
      default: false
      defaultValue: default
      description: |-
        The geographical regions where requests to Cloud KMS regarding a given resource are handled, and where the corresponding cryptographic keys are stored. (see: https://cloud.google.com/kms/docs/locations)

        Keyword 'default' to to use Default Location set.
      isArray: false
      name: location
      predefined:
      - default
      - global
      - asia-east1
      - asia-east2
      - asia-northeast1
      - asia-northeast2
      - asia-south1
      - asia-southeast1
      - australia-southeast1
      - europe-north1
      - europe-west1
      - europe-west2
      - europe-west3
      - europe-west4
      - europe-west6
      - northamerica-northeast1
      - us-central1
      - us-east1
      - us-east4
      - us-west1
      - us-west2
      - southamerica-east1
      - eur4
      - nam4
      - asia
      - europe
      - us
      required: true
      secret: false
    - default: false
      defaultValue: default
      description: |-
        A key ring is a grouping of keys for organizational purposes.

        Keyword 'default' to to use Default KeyRing set.
      isArray: false
      name: key_ring
      required: true
      secret: false
    - default: false
      description: The ID for the crypto-key to use
      isArray: false
      name: crypto_key
      required: true
      secret: false
    - default: false
      description: The CryptoKeyVersion to use.
      isArray: false
      name: crypto_key_version
      required: true
      secret: false
    deprecated: false
    description: Gets the public key from a given CryptoKey
    execution: false
    name: google-kms-get-public-key
    outputs:
    - contextPath: GoogleKMS.PublicKey.CryptoKey
      description: The CryptoKey to which the public key is connected.
      type: String
    - contextPath: GoogleKMS.PublicKey.PEM
      description: The PEM of the public key.
      type: String
    - contextPath: GoogleKMS.PublicKey.Algorithm
      description: The algorithm used in the CryptoKey
      type: String
  dockerimage: demisto/google-kms:1.0.0.2689
  isfetch: false
  longRunning: false
  longRunningPort: false
  runonce: false
  script: '-'
  type: python
tests:
- Google-KMS-test
