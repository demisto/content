id: Gmail Single User - Test
version: -1
name: Gmail Single User - Test
description: ""
starttaskid: "0"
tasks:
  "0":
    id: "0"
    taskid: 4bd1d2c7-57ed-403f-8556-4f0554512153
    type: start
    task:
      id: 4bd1d2c7-57ed-403f-8556-4f0554512153
      version: -1
      name: ""
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "1"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "1":
    id: "1"
    taskid: 74dc692b-f47d-4412-83f1-8f92601475f9
    type: regular
    task:
      id: 74dc692b-f47d-4412-83f1-8f92601475f9
      version: -1
      name: Delete context
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "2"
    scriptarguments:
      all:
        simple: "yes"
      key: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "2":
    id: "2"
    taskid: 8b521dd5-f4c0-4645-8edb-0326f7600559
    type: regular
    task:
      id: 8b521dd5-f4c0-4645-8edb-0326f7600559
      version: -1
      name: Send mail using python
      description: Sends mail using Gmail.
      script: Gmail Single User|||send-mail
      type: regular
      iscommand: true
      brand: Gmail Single User
    nexttasks:
      '#none#':
      - "3"
    scriptarguments:
      additionalHeader: {}
      attachCIDs: {}
      attachIDs: {}
      attachNames: {}
      bcc: {}
      body:
        simple: this is a test by playbook
      cc: {}
      htmlBody: {}
      replyTo: {}
      subject:
        simple: special test via playbook (1)
      templateParams: {}
      to:
        simple: yarden@demistodev.com
      transientFile:
        simple: test.txt
      transientFileCID: {}
      transientFileContent:
        simple: this is a test text inside a test attachment mail!
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "3":
    id: "3"
    taskid: 83d806d2-0f71-4da8-8718-def290d92512
    type: regular
    task:
      id: 83d806d2-0f71-4da8-8718-def290d92512
      version: -1
      name: Wait for mail to be received
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "4"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "4":
    id: "4"
    taskid: b73839b8-a92e-4dbd-8682-c7ba350a0094
    type: regular
    task:
      id: b73839b8-a92e-4dbd-8682-c7ba350a0094
      version: -1
      name: Search for email sent and get ID
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "5"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 285,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "5":
    id: "5"
    taskid: 11d43004-c6e9-43b1-8f67-be31952ac6f7
    type: condition
    task:
      id: 11d43004-c6e9-43b1-8f67-be31952ac6f7
      version: -1
      name: Check if email was found (if ID exists)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "8"
      "yes":
      - "7"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 285,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "6":
    id: "6"
    taskid: 441f3556-cf1c-4238-86e7-78dfd000a34a
    type: regular
    task:
      id: 441f3556-cf1c-4238-86e7-78dfd000a34a
      version: -1
      name: Delete email list from context
      description: |-
        Because of how the googleapps integration is built, both fetching meta-data about the email ID and fetching the email itself, create record under Email key, which in turn duplicated a record with the same key&value of ID, thus preventing us from verifying our data later.

        The simple solution: delete the old entry after the ID was stored in the context.
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "11"
    scriptarguments:
      all: {}
      key:
        simple: Email
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 397.5,
          "y": 2295
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "7":
    id: "7"
    taskid: bd26290b-5730-4fb9-8029-46f254c566d7
    type: regular
    task:
      id: bd26290b-5730-4fb9-8029-46f254c566d7
      version: -1
      name: Save the retrieved mail's ID under a key for search in inbox
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "6"
    scriptarguments:
      append: {}
      key:
        simple: Testmail.ID
      value:
        simple: ${Email.[0].ID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 397.5,
          "y": 2120
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "8":
    id: "8"
    taskid: 9b6133ce-983d-47ea-8334-5d7e5d9b4173
    type: regular
    task:
      id: 9b6133ce-983d-47ea-8334-5d7e5d9b4173
      version: -1
      name: Wait for mail to receive
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "9"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 70,
          "y": 1070
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "9":
    id: "9"
    taskid: e2481a99-ec7d-4c35-8315-5edcd3e9dcf2
    type: regular
    task:
      id: e2481a99-ec7d-4c35-8315-5edcd3e9dcf2
      version: -1
      name: Search for email sent (ID)
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "10"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 70,
          "y": 1245
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "10":
    id: "10"
    taskid: a2727e1b-108d-469b-8ec2-022923d3ec55
    type: condition
    task:
      id: a2727e1b-108d-469b-8ec2-022923d3ec55
      version: -1
      name: Check if email was found
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "16"
      "yes":
      - "7"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 70,
          "y": 1420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "11":
    id: "11"
    taskid: d18f696b-b52f-44ec-800a-b7c6501ce048
    type: regular
    task:
      id: d18f696b-b52f-44ec-800a-b7c6501ce048
      version: -1
      name: Fetch email from google mail using message ID
      description: Retrieves the Gmail message sent to a specified user.
      script: Gmail|||gmail-get-mail
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "12"
    scriptarguments:
      format: {}
      message-id:
        simple: ${Testmail.ID}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 397.5,
          "y": 2470
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "12":
    id: "12"
    taskid: e8eca6fc-9799-4d3c-82e2-5fdf04512524
    type: condition
    task:
      id: e8eca6fc-9799-4d3c-82e2-5fdf04512524
      version: -1
      name: Check for attachments
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "14"
      "yes":
      - "13"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.Attachments
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Email.ID
            iscontext: true
          right:
            value:
              simple: Testmail.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 397.5,
          "y": 2645
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "13":
    id: "13"
    taskid: 19a69334-fb60-4692-8ccb-596f446d321e
    type: title
    task:
      id: 19a69334-fb60-4692-8ccb-596f446d321e
      version: -1
      name: Test email was found with the attachment!
      type: title
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "19"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 2835
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "14":
    id: "14"
    taskid: 2504fb14-2f88-47b0-8419-773c75300353
    type: regular
    task:
      id: 2504fb14-2f88-47b0-8419-773c75300353
      version: -1
      name: Email found without attachment
      description: Prints an error entry with a given message
      scriptName: PrintErrorEntry
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      message:
        simple: Email found without attachment
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 275,
          "y": 2820
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "15":
    id: "15"
    taskid: c56ee116-536c-42d8-8204-15d2260b4e1e
    type: regular
    task:
      id: c56ee116-536c-42d8-8204-15d2260b4e1e
      version: -1
      name: Test failed
      description: Prints an error entry with a given message
      scriptName: PrintErrorEntry
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      message:
        simple: Email was not found
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 5095
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "16":
    id: "16"
    taskid: 9c369940-ec0d-4cbd-8e3c-65fe65b11580
    type: regular
    task:
      id: 9c369940-ec0d-4cbd-8e3c-65fe65b11580
      version: -1
      name: Wait for mail to receive
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "17"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "17":
    id: "17"
    taskid: 61d58827-984c-4e9f-8a78-8345bc2553f2
    type: regular
    task:
      id: 61d58827-984c-4e9f-8a78-8345bc2553f2
      version: -1
      name: Search for email sent (ID)
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "18"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "18":
    id: "18"
    taskid: a8709715-4f75-4c50-8535-ea1b2bd323ba
    type: condition
    task:
      id: a8709715-4f75-4c50-8535-ea1b2bd323ba
      version: -1
      name: Check if email was found
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "15"
      "yes":
      - "7"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "19":
    id: "19"
    taskid: bd757b8e-917e-4316-8ebf-de1d262e0ab4
    type: regular
    task:
      id: bd757b8e-917e-4316-8ebf-de1d262e0ab4
      version: -1
      name: Start Over - Send several files
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "33"
    scriptarguments:
      all:
        simple: "yes"
      index: {}
      key: {}
      keysToKeep: {}
      subplaybook: {}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 2995
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "20":
    id: "20"
    taskid: f950d975-3926-49e0-893b-1f11da555d18
    type: regular
    task:
      id: f950d975-3926-49e0-893b-1f11da555d18
      version: -1
      name: Send mail using python
      description: Sends mail using Gmail.
      script: Gmail Single User|||send-mail
      type: regular
      iscommand: true
      brand: Gmail Single User
    nexttasks:
      '#none#':
      - "21"
    scriptarguments:
      additionalHeader: {}
      attachCIDs: {}
      attachIDs:
        simple: ${File.EntryID}
      attachNames:
        simple: attach.txt
      bcc: {}
      body:
        simple: this is a test by playbook
      cc: {}
      from: {}
      htmlBody: {}
      replyTo: {}
      subject:
        simple: special test via playbook (2)
      templateParams: {}
      to:
        simple: yarden@demistodev.com
      transientFile:
        simple: test.txt,test2.txt
      transientFileCID: {}
      transientFileContent:
        simple: this is a test text inside a test attachment mail!,another mail content.
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 3345
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "21":
    id: "21"
    taskid: 05a0d0a0-f75e-42ea-8c14-0ea30b59c5c6
    type: regular
    task:
      id: 05a0d0a0-f75e-42ea-8c14-0ea30b59c5c6
      version: -1
      name: Wait for mail to be received
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "22"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 3520
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "22":
    id: "22"
    taskid: 58b0aa3e-2830-463f-880d-8231f93640fb
    type: regular
    task:
      id: 58b0aa3e-2830-463f-880d-8231f93640fb
      version: -1
      name: Search for email sent and get ID
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "23"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 3695
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "23":
    id: "23"
    taskid: bd8fc15f-1400-417c-805d-a5f88461a500
    type: condition
    task:
      id: bd8fc15f-1400-417c-805d-a5f88461a500
      version: -1
      name: Check if email was found (if ID exists)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "24"
      "yes":
      - "30"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 705,
          "y": 3870
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "24":
    id: "24"
    taskid: 0439f909-afb7-4a9d-8485-1135fa2fc5f9
    type: regular
    task:
      id: 0439f909-afb7-4a9d-8485-1135fa2fc5f9
      version: -1
      name: Wait for mail to be received
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "25"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 602.5,
          "y": 4045
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "25":
    id: "25"
    taskid: abedadfb-d1ee-484b-81ed-337efe3cf65a
    type: regular
    task:
      id: abedadfb-d1ee-484b-81ed-337efe3cf65a
      version: -1
      name: Search for email sent and get ID
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "26"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 602.5,
          "y": 4220
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "26":
    id: "26"
    taskid: 87127722-63eb-400b-82c5-716b05616b52
    type: condition
    task:
      id: 87127722-63eb-400b-82c5-716b05616b52
      version: -1
      name: Check if email was found (if ID exists)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "28"
      "yes":
      - "30"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 602.5,
          "y": 4395
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "27":
    id: "27"
    taskid: e1470722-871d-4aa2-895c-620677f87f1d
    type: condition
    task:
      id: e1470722-871d-4aa2-895c-620677f87f1d
      version: -1
      name: Check if email was found (if ID exists)
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "15"
      "yes":
      - "30"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 490,
          "y": 4920
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "28":
    id: "28"
    taskid: ca092da8-53e3-4504-8dc3-12ad33a56cdb
    type: regular
    task:
      id: ca092da8-53e3-4504-8dc3-12ad33a56cdb
      version: -1
      name: Wait for mail to be received
      scriptName: Sleep
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "29"
    scriptarguments:
      seconds:
        simple: "10"
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 490,
          "y": 4570
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "29":
    id: "29"
    taskid: 05fb3b44-7503-4c91-88fc-0e9b07bf0f17
    type: regular
    task:
      id: 05fb3b44-7503-4c91-88fc-0e9b07bf0f17
      version: -1
      name: Search for email sent and get ID
      description: Searches for Gmail records of a specified Google user.
      script: Gmail|||gmail-search
      type: regular
      iscommand: true
      brand: Gmail
    nexttasks:
      '#none#':
      - "27"
    scriptarguments:
      after: {}
      before: {}
      fields: {}
      filename: {}
      from: {}
      has-attachments: {}
      in: {}
      include-spam-trash:
        simple: "true"
      labels-ids: {}
      max-results: {}
      page-token: {}
      query:
        simple: from:admin@demistodev.com subject:special test via playbook newer_than:1d
      subject: {}
      to: {}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 490,
          "y": 4745
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "30":
    id: "30"
    taskid: cf699f6d-afeb-4bc7-8f48-a897db27b341
    type: regular
    task:
      id: cf699f6d-afeb-4bc7-8f48-a897db27b341
      version: -1
      name: Save the retrieved mail's ID under a key for search in inbox
      scriptName: Set
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "31"
    scriptarguments:
      append: {}
      key:
        simple: Testmail.ID
      value:
        simple: ${Email.[0].ID}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 622.5,
          "y": 5095
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "31":
    id: "31"
    taskid: 5a15501b-ed21-44c5-8562-511ab6987b1f
    type: regular
    task:
      id: 5a15501b-ed21-44c5-8562-511ab6987b1f
      version: -1
      name: Delete email list from context
      description: |-
        Because of how the googleapps integration is built, both fetching meta-data about the email ID and fetching the email itself, create record under Email key, which in turn duplicated a record with the same key&value of ID, thus preventing us from verifying our data later.

        The simple solution: delete the old entry after the ID was stored in the context.
      scriptName: DeleteContext
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "32"
    scriptarguments:
      all: {}
      key:
        simple: Email
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 622.5,
          "y": 5270
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "32":
    id: "32"
    taskid: 6489264f-b9d0-4665-8511-eed21369a12e
    type: regular
    task:
      id: 6489264f-b9d0-4665-8511-eed21369a12e
      version: -1
      name: Fetch email from google mail using message ID
      description: Retrieves the Gmail message sent to a specified user.
      script: '|||gmail-get-mail'
      type: regular
      iscommand: true
      brand: ""
    nexttasks:
      '#none#':
      - "34"
    scriptarguments:
      format: {}
      message-id:
        simple: ${Testmail.ID}
      user-id:
        simple: admin@demistodev.com
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 622.5,
          "y": 5445
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "33":
    id: "33"
    taskid: d2817ed7-faaa-4c68-80cc-d6429f4443a1
    type: regular
    task:
      id: d2817ed7-faaa-4c68-80cc-d6429f4443a1
      version: -1
      name: Create a new File
      scriptName: FileCreateAndUpload
      type: regular
      iscommand: false
      brand: ""
    nexttasks:
      '#none#':
      - "20"
    scriptarguments:
      data:
        simple: WarRoom File
      entryId: {}
      filename:
        simple: attachment1.txt
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 3170
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "34":
    id: "34"
    taskid: 79844506-febf-435e-8ce4-66c50e0fcfce
    type: condition
    task:
      id: 79844506-febf-435e-8ce4-66c50e0fcfce
      version: -1
      name: Check for attachments
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "35"
      "yes":
      - "37"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.Attachments
            iscontext: true
      - - operator: isEqualString
          left:
            value:
              simple: Email.ID
            iscontext: true
          right:
            value:
              simple: Testmail.ID
            iscontext: true
    view: |-
      {
        "position": {
          "x": 622.5,
          "y": 5620
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "35":
    id: "35"
    taskid: 9538bf8c-6c54-48bd-825c-71d7986223ab
    type: regular
    task:
      id: 9538bf8c-6c54-48bd-825c-71d7986223ab
      version: -1
      name: Email found without attachment
      description: Prints an error entry with a given message
      scriptName: PrintErrorEntry
      type: regular
      iscommand: false
      brand: ""
    scriptarguments:
      message:
        simple: Email found without attachment
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 622.5,
          "y": 5970
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "36":
    id: "36"
    taskid: 54cd7761-0705-49f9-894c-878360aeacbc
    type: title
    task:
      id: 54cd7761-0705-49f9-894c-878360aeacbc
      version: -1
      name: Finished Successfully
      type: title
      iscommand: false
      brand: ""
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 1052.5,
          "y": 5985
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
  "37":
    id: "37"
    taskid: 5b26cc1f-19e8-4cac-814d-51ee18889885
    type: condition
    task:
      id: 5b26cc1f-19e8-4cac-814d-51ee18889885
      version: -1
      name: Check for attachments
      type: condition
      iscommand: false
      brand: ""
    nexttasks:
      '#default#':
      - "35"
      "yes":
      - "36"
    separatecontext: false
    conditions:
    - label: "yes"
      condition:
      - - operator: isExists
          left:
            value:
              simple: Email.Attachments
            iscontext: true
      - - operator: isEqualNumber
          left:
            value:
              complex:
                root: Email
                accessor: Attachments
                transformers:
                - operator: count
            iscontext: true
          right:
            value:
              simple: "3"
    view: |-
      {
        "position": {
          "x": 837.5,
          "y": 5795
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
view: |-
  {
    "linkLabelsPosition": {
      "10_16_#default#": 0.9,
      "10_7_yes": 0.34,
      "18_7_yes": 0.37
    },
    "paper": {
      "dimensions": {
        "height": 6015,
        "width": 1382.5,
        "x": 50,
        "y": 50
      }
    }
  }
inputs: []
outputs: []
