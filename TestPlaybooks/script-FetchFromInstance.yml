commonfields:
  id: FetchFromInstance
  version: -1
rolename: []
name: FetchFromInstance
script: |
  res = []
  instance_name = demisto.args()["instance_name"]
  command = '!{0}-fetch'.format(instance_name)

  resCmdName = demisto.executeCommand(command, {})
  try:
      if not resCmdName:
          raise Exception("")

      res.append({"Type": entryTypes["note"], "ContentsFormat": formats["json"], "Contents": resCmdName})

  except Exception as ex:
      res.append({"Type": entryTypes["error"], "ContentsFormat": formats["text"],
                  "Contents": "Error occurred while fetching incidents from {}".format(instance_name)})

  demisto.results(res)
type: python
tags: []
enabled: true
args:
- name: instance_name
  required: true
  description: The name of the instance you want to fetch from
scripttarget: 0
runonce: false
tests:
  - Forgive me for my sins but I did not create any test
