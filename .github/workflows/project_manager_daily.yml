name: Manage Contribution Board - Daily
on:
  schedule:
    - cron:  '0 0 * * *'
permissions:
  contents: read

jobs:
  manage_project_board:
    runs-on: ubuntu-latest
    if: github.repository == 'demisto/content'
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python 3.7
        uses: actions/setup-python@v4
        with:
          python-version: '3.7'
      - name: Get project manager
        run: |
          pip install --upgrade pip
          pip install github-automation
      - name: Manage project
        run: |
          github-automation manage -c .github/project_conf/contributions.ini
        env:
          GITHUB_TOKEN: ${{ secrets.CONTENTBOT_BOARD_UPDATE_TOKEN }}
