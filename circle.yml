test:
  pre:
    # install dependencies
    - pip install git+https://github.com/demisto/demisto-py.git@test-content
    - pip install pykwalify

    # validate yaml
    - chmod +x ./Tests/yamlvalidator
    - ./Tests/yamlvalidator

    # build content descriptor
    - ./setContentDescriptor.sh $CIRCLE_BUILD_NUM d58a640cf60f305f1393af1ad37483240d79c0b9 18.2.4

    # create content bundle
    - python content_creator.py $CIRCLE_ARTIFACTS
  override:
    - chmod +x ./Tests/scripts/*

    # ensure file name
    - ./Tests/scripts/validate_files_structure.sh
